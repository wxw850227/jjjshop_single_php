import{E as e,d as s,e as l,f as o,i as a,F as t,g as i,c as r}from"./element-plus-68e4b1c7.js";import{_ as m}from"./Setlink-f9e4d770.js";import{_ as p}from"./Upload-b4b0cf8c.js";import{P as n}from"./page-7eccbdf3.js";import{_ as d}from"./index-d5abae2c.js";import{o as u,c,P as f,S as h,a as _,W as j,Y as g,T as y,X as k}from"./@vue-76da2f05.js";import"./@vueuse-90d34f35.js";import"./lodash-es-3f297d7c.js";import"./async-validator-cf877c1f.js";import"./dayjs-13b7e569.js";import"./call-bind-6a1b7bd0.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-9f5f6982.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./Article-6004f402.js";import"./article-ea099f88.js";import"./product-a5c451ce.js";import"./AddCategory-f060626c.js";import"./file-c3df6c02.js";/* empty css                                                               */import"./vue-router-b6ab34d8.js";import"./pinia-58dabe83.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-74887072.js";import"./side-channel-9348fcaa.js";import"./object-inspect-c71aff05.js";import"./vue-clipboard2-8d1bb64a.js";import"./clipboard-fb55ee1a.js";import"./vue-ueditor-wrap-c9660067.js";const b={components:{Upload:p,Setlink:m},data:()=>({isupload:!1,is_linkset:!1,isImg:!1,form:{name:"",icon:"",sort:100,is_show:1,path:"",path_name:""},loading:!1}),created(){},methods:{changeLink(){this.is_linkset=!0},closeLinkset(e){this.is_linkset=!1,null!=e&&(e.url.startsWith("/")?this.form.path=e.url:this.form.path="/"+e.url,this.form.path_name="链接到 "+e.type+" "+e.name)},openUpload(){this.isupload=!0},returnImgsFunc(e){null!=e&&(this.form.icon=e[0].file_path,this.isImg=!0),this.isupload=!1},onSubmit(){let s=this,l=s.form;s.$refs.form.validate((o=>{o&&(s.loading=!0,n.addMenu(l,!0).then((l=>{s.loading=!1,e({message:l.msg,type:"success"}),s.$router.push("/page/center/index")})).catch((e=>{s.loading=!1})))}))},cancelFunc(){this.$router.push({path:"/page/center/index"})}}},x={class:"product-add pb50"},v=_("div",{class:"common-form"},"添加菜单",-1),V=["src","isImg"],w=_("div",{style:{color:"red"}},"图标大小为:48*48",-1),I={class:"url-box flex-1"},C={class:"tips",id:"tips",style:{color:"#000"}},U=_("div",{class:"url-box ml10",style:{float:"right"}},null,-1),q={class:"common-button-wrapper"};const S=d(b,[["render",function(e,n,d,b,S,z){const F=s,L=l,P=o,$=p,A=a,D=t,M=i,R=m,W=r;return u(),c("div",x,[f(W,{size:"small",model:S.form,ref:"form","label-width":"100px"},{default:h((()=>[v,f(L,{label:"菜单名称",prop:"name",rules:[{required:!0,message:" "}]},{default:h((()=>[f(F,{modelValue:S.form.name,"onUpdate:modelValue":n[0]||(n[0]=e=>S.form.name=e),placeholder:"请输入菜单名称",class:"max-w460"},null,8,["modelValue"])])),_:1}),f(L,{label:"图标",prop:"icon",rules:[{required:!0,message:" "}]},{default:h((()=>[_("div",null,[f(P,{type:"primary",onClick:z.openUpload},{default:h((()=>[j("上传图片")])),_:1},8,["onClick"]),S.isImg?(u(),c("img",{key:0,src:S.form.icon,class:"mt10",width:48,isImg:S.isImg},null,8,V)):g("",!0),w,S.isupload?(u(),y($,{key:1,isupload:S.isupload,onReturnImgs:z.returnImgsFunc},{default:h((()=>[j("上传图片")])),_:1},8,["isupload","onReturnImgs"])):g("",!0)])])),_:1}),f(L,{label:"状态"},{default:h((()=>[f(D,{modelValue:S.form.is_show,"onUpdate:modelValue":n[1]||(n[1]=e=>S.form.is_show=e)},{default:h((()=>[f(A,{label:1},{default:h((()=>[j("显示")])),_:1}),f(A,{label:0},{default:h((()=>[j("隐藏")])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(L,{label:"排序",prop:"sort",rules:[{required:!0,message:" "}]},{default:h((()=>[f(F,{type:"number",modelValue:S.form.sort,"onUpdate:modelValue":n[2]||(n[2]=e=>S.form.sort=e),placeholder:"请输入数字",class:"max-w460"},null,8,["modelValue"])])),_:1}),f(L,{label:"链接",prop:"path",rules:[{required:!0,message:" "}]},{default:h((()=>[f(M,null,{default:h((()=>[_("div",I,[f(F,{modelValue:S.form.path,"onUpdate:modelValue":n[3]||(n[3]=e=>S.form.path=e),type:"text",class:"max-w460",style:{width:"380px","margin-right":"6px"}},null,8,["modelValue"]),f(P,{type:"primary",onClick:n[4]||(n[4]=e=>z.changeLink())},{default:h((()=>[j("选择链接")])),_:1}),_("div",C,k(S.form.path_name),1),f(F,{modelValue:S.form.path_name,"onUpdate:modelValue":n[5]||(n[5]=e=>S.form.path_name=e),type:"hidden",class:"max-w460",style:{width:"380px"}},null,8,["modelValue"])]),U])),_:1})])),_:1}),S.is_linkset?(u(),y(R,{key:0,is_linkset:S.is_linkset,onCloseDialog:z.closeLinkset},{default:h((()=>[j("选择链接")])),_:1},8,["is_linkset","onCloseDialog"])):g("",!0),_("div",q,[f(P,{size:"small",type:"info",onClick:z.cancelFunc},{default:h((()=>[j("取消")])),_:1},8,["onClick"]),f(P,{size:"small",type:"primary",onClick:z.onSubmit,loading:S.loading},{default:h((()=>[j("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"])])}]]);export{S as default};
