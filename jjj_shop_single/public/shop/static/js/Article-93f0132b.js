import{f as a,e,c as t,l,m as i,n as s}from"./element-plus-68e4b1c7.js";import{A as n}from"./article-0a1d2a21.js";import{_ as r}from"./index-c1104e7d.js";import{o,c,a as g,P as d,S as h,W as u}from"./@vue-76da2f05.js";const m={class:"article-box"},p={class:"common-seach-wrap"},C={class:"article-content"},b={class:"table-wrap"},z={class:"pagination"};const f=r({data:()=>({activeTab:"second",pageSize:5,totalDataNumber:0,curPage:1,loading:!0,tableData:[],activePage:{}}),created(){this.chooseList(),this.getData()},watch:{},methods:{handleCurrentChange(a){this.curPage=a,this.getData()},handleSizeChange(a){this.pageSize=a,this.curPage=1,this.getData()},getData(){let a=this;a.loading=!0;let e={};e.page=a.curPage,e.list_rows=a.pageSize,n.articlelist(e,!0).then((e=>{a.loading=!1,a.tableData=e.data.list.data,a.totalDataNumber=e.data.list.total})).catch((a=>{}))},changeFunc(a){let e={};e.name=a.article_title,e.url="pages/article/detail/detail?article_id="+a.article_id,e.type="文章",this.$emit("changeData",e)},chooseList(){let a={name:"文章列表",url:"pages/article/list/list",type:"文章"};this.$emit("changeData",a)}}},[["render",function(n,r,f,_,D,v){const S=a,w=e,P=t,j=l,k=i,y=s;return o(),c("div",m,[g("div",p,[d(P,{size:"small",inline:!0,class:"demo-form-inline"},{default:h((()=>[d(w,null,{default:h((()=>[d(S,{size:"small",icon:"Memo",onClick:v.chooseList},{default:h((()=>[u("选择文章列表")])),_:1},8,["onClick"])])),_:1})])),_:1})]),g("div",C,[g("div",b,[d(k,{size:"small",data:D.tableData,border:"",style:{width:"100%"}},{default:h((()=>[d(j,{prop:"article_title",label:"文章标题"}),d(j,{prop:"category.name",label:"文章分类",width:"80"}),d(j,{label:"操作",width:"80"},{default:h((a=>[d(S,{size:"small",onClick:e=>v.changeFunc(a.row)},{default:h((()=>[u("选择")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),g("div",z,[d(y,{onSizeChange:v.handleSizeChange,onCurrentChange:v.handleCurrentChange,background:"","current-page":D.curPage,"page-size":D.pageSize,layout:"total, prev, pager, next, jumper",total:D.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}]]);export{f as _};
