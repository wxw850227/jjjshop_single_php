System.register(["./element-plus-legacy-cd39421e.js","./product-legacy-c9834749.js","./index-legacy-4f532ec6.js","./@vue-legacy-3fcc10b7.js","./@vueuse-legacy-bdd63cbd.js","./lodash-es-legacy-7c31c52b.js","./async-validator-legacy-aa1fd2de.js","./dayjs-legacy-b61d7302.js","./call-bind-legacy-93acd607.js","./get-intrinsic-legacy-4f34f38e.js","./has-symbols-legacy-afcc0593.js","./has-proto-legacy-d280ab1e.js","./function-bind-legacy-b76e1749.js","./has-legacy-06d86c07.js","./@element-plus-legacy-053c792c.js","./escape-html-legacy-ae962a8c.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./vue-router-legacy-51ef7ec5.js","./pinia-legacy-9b6e299c.js","./vue-demi-legacy-97cfbb01.js","./axios-legacy-40880ebd.js","./qs-legacy-bbbea217.js","./side-channel-legacy-25200cf8.js","./object-inspect-legacy-b217d60b.js","./vue-clipboard2-legacy-3536b1d9.js","./clipboard-legacy-531f08f2.js","./vue-ueditor-wrap-legacy-8e203191.js"],(function(e,t){"use strict";var a,l,n,u,c,r,o,i,s,d,p,f,g,m,y,h,_,v,C,b,k,j,z,w,S,x,D,N,P,V;return{setters:[function(e){a=e.E,l=e.a,n=e.C,u=e.u,c=e.w,r=e.q,o=e.r,i=e.e,s=e.d,d=e.f,p=e.c,f=e.l,g=e.m,m=e.n,y=e.v},function(e){h=e.P},function(e){_=e._},function(e){v=e.ap,C=e.o,b=e.c,k=e.a,j=e.P,z=e.S,w=e.W,S=e.X,x=e.Q,D=e.a9,N=e.T,P=e.$,V=e.Y},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t={class:"product-list"},F={class:"common-seach-wrap"},q={class:"common-level-rail"},$={class:"product-content"},L={class:"table-wrap"},T={class:"product-info"},U={class:"pic"},E={alt:""},I={class:"info"},M={class:"name"},Q={class:"price"},W={key:0},X={key:1,class:"green"},Y={class:"pagination"};e("default",_({components:{},data:function(){return{activeName:"sell",activeIndex:"0",loading:!0,pageSize:10,totalDataNumber:0,curPage:1,searchForm:{product_name:"",category_id:""},tableData:[],categoryList:[],product_count:{}}},created:function(){this.getData()},methods:{handleCurrentChange:function(e){var t=this;t.loading=!0,t.curPage=e,t.getData()},handleSizeChange:function(e){this.pageSize=e,this.getData()},handleClick:function(e,t){var a=this;a.curPage=1,a.activeName=e,a.getData()},getData:function(){var e=this,t=e.searchForm;t.page=e.curPage,t.list_rows=e.pageSize,t.type=e.activeName,e.loading=!0,h.productList(t,!0).then((function(t){e.loading=!1,e.tableData=t.data.list.data,e.categoryList=t.data.category,e.totalDataNumber=t.data.list.total,e.product_count=t.data.product_count})).catch((function(t){e.loading=!1}))},onSubmit:function(){this.curPage=1,this.getData()},addClick:function(){this.$router.push("/product/product/add")},editClick:function(e){this.$router.push({path:"/product/product/edit",query:{product_id:e.product_id,scene:"edit"}})},linkClick:function(e){var t="pages/product/detail/detail?product_id="+e;this.$copyText(t).then((function(e){a({showClose:!0,message:"复制成功",type:"success"})}),(function(e){a({showClose:!0,message:"复制失败",type:"error"})}))},copyClick:function(e){this.$router.push({path:"/product/product/edit",query:{product_id:e.product_id,scene:"copy"}})},delClick:function(e){var t=this,n="";n=30==e.product_status?"删除后不可恢复，确认删除该记录吗?":"删除后将移动到回收站，确定删除该记录吗?",l.confirm(n,"提示",{type:"warning"}).then((function(){h.delProduct({product_id:e.product_id}).then((function(e){a({message:"删除成功",type:"success"}),t.getData()}))}))},changeStatus:function(e,t){var n=this,u="";10==t?u="确认要上架该商品吗?":(u="确认要下架该商品吗?","recovery"==n.activeName&&(u="确认要移动该商品到仓库吗?")),l.confirm(u,"提示",{type:"warning"}).then((function(){h.changeStatus({product_id:e.product_id,state:t}).then((function(e){a({message:"操作成功",type:"success"}),n.getData()}))}))}}},[["render",function(e,a,l,h,_,A){var B=n,G=u,H=c,J=r,K=o,O=i,R=s,Z=d,ee=p,te=f,ae=g,le=m,ne=v("auth"),ue=v("img-url"),ce=y;return C(),b("div",t,[k("div",F,[j(H,{modelValue:_.activeName,"onUpdate:modelValue":a[0]||(a[0]=function(e){return _.activeName=e}),onTabChange:A.handleClick},{default:z((function(){return[j(G,{label:"出售中",name:"sell"},{label:z((function(){return[w(" 出售中 "),j(B,{size:"small"},{default:z((function(){return[w(S(_.product_count.sell),1)]})),_:1})]})),_:1}),j(G,{label:"仓库中",name:"lower"},{label:z((function(){return[w(" 仓库中 "),j(B,{size:"small"},{default:z((function(){return[w(S(_.product_count.lower),1)]})),_:1})]})),_:1}),j(G,{label:"回收站",name:"recovery"},{label:z((function(){return[w(" 回收站 "),j(B,{size:"small"},{default:z((function(){return[w(S(_.product_count.recovery),1)]})),_:1})]})),_:1}),j(G,{label:"库存紧张",name:"stock"},{label:z((function(){return[w(" 库存紧张 "),j(B,{size:"small"},{default:z((function(){return[w(S(_.product_count.stock),1)]})),_:1})]})),_:1}),j(G,{label:"已售罄",name:"over"},{label:z((function(){return[w(" 已售罄 "),j(B,{size:"small"},{default:z((function(){return[w(S(_.product_count.over),1)]})),_:1})]})),_:1})]})),_:1},8,["modelValue","onTabChange"]),j(ee,{size:"small",inline:!0,model:_.searchForm,class:"demo-form-inline"},{default:z((function(){return[j(O,{label:"商品分类"},{default:z((function(){return[j(K,{size:"small",modelValue:_.searchForm.category_id,"onUpdate:modelValue":a[1]||(a[1]=function(e){return _.searchForm.category_id=e}),placeholder:"所有分类"},{default:z((function(){return[j(J,{label:"全部",value:"0"}),(C(!0),b(x,null,D(_.categoryList,(function(e,t){return C(),N(J,{key:t,label:e.name,value:e.category_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),j(O,{label:"商品名称"},{default:z((function(){return[j(R,{size:"small",modelValue:_.searchForm.product_name,"onUpdate:modelValue":a[2]||(a[2]=function(e){return _.searchForm.product_name=e}),placeholder:"请输入商品名称"},null,8,["modelValue"])]})),_:1}),j(O,null,{default:z((function(){return[j(Z,{size:"small",type:"primary",icon:"Search",onClick:A.onSubmit},{default:z((function(){return[w("查询")]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"])]),k("div",q,[P((C(),N(Z,{size:"small",type:"primary",icon:"Plus",onClick:A.addClick},{default:z((function(){return[w("添加产品")]})),_:1},8,["onClick"])),[[ne,"/product/product/add"]])]),k("div",$,[k("div",L,[P((C(),N(ae,{size:"small",data:_.tableData,border:"",style:{width:"100%"}},{default:z((function(){return[j(te,{prop:"product_name",label:"产品",width:"400px"},{default:z((function(e){return[k("div",T,[k("div",U,[P(k("img",E,null,512),[[ue,e.row.image[0].file_path]])]),k("div",I,[k("div",M,S(e.row.product_name),1),k("div",Q,"￥"+S(e.row.product_price),1)])])]})),_:1}),j(te,{prop:"category.name",label:"分类"}),j(te,{prop:"sales_actual",label:"实际销量"}),j(te,{prop:"product_stock",label:"库存"}),j(te,{prop:"view_times",label:"点击数"}),j(te,{prop:"product_status.text",label:"商品属性"},{default:z((function(e){return[0==e.row.is_virtual?(C(),b("span",W,"实物商品")):V("",!0),1==e.row.is_virtual?(C(),b("span",X,"虚拟商品")):V("",!0)]})),_:1}),j(te,{prop:"create_time",label:"发布时间"}),j(te,{prop:"product_sort",label:"排序"}),j(te,{fixed:"right",label:"操作",width:"210"},{default:z((function(e){return[P((C(),N(Z,{onClick:function(t){return A.editClick(e.row)},type:"text",size:"small"},{default:z((function(){return[w("编辑")]})),_:2},1032,["onClick"])),[[ne,"/product/product/edit"]]),"sell"==_.activeName?P((C(),N(Z,{key:0,onClick:function(t){return A.changeStatus(e.row,20)},type:"text",size:"small"},{default:z((function(){return[w("下架")]})),_:2},1032,["onClick"])),[[ne,"/product/product/edit"]]):V("",!0),"lower"==_.activeName?P((C(),N(Z,{key:1,onClick:function(t){return A.changeStatus(e.row,10)},type:"text",size:"small"},{default:z((function(){return[w("上架")]})),_:2},1032,["onClick"])),[[ne,"/product/product/edit"]]):V("",!0),"recovery"==_.activeName?P((C(),N(Z,{key:2,onClick:function(t){return A.changeStatus(e.row,20)},type:"text",size:"small"},{default:z((function(){return[w("恢复")]})),_:2},1032,["onClick"])),[[ne,"/product/product/edit"]]):V("",!0),P((C(),N(Z,{onClick:function(t){return A.delClick(e.row)},type:"text",size:"small"},{default:z((function(){return[w("删除")]})),_:2},1032,["onClick"])),[[ne,"/product/product/delete"]]),P((C(),N(Z,{onClick:function(t){return A.copyClick(e.row)},type:"text",size:"small"},{default:z((function(){return[w("复制")]})),_:2},1032,["onClick"])),[[ne,"/product/product/add"]]),j(Z,{onClick:function(t){return A.linkClick(e.row.product_id)},type:"text",size:"small"},{default:z((function(){return[w("链接")]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])),[[ce,_.loading]])])]),k("div",Y,[j(le,{onSizeChange:A.handleSizeChange,onCurrentChange:A.handleCurrentChange,background:"","current-page":_.curPage,"page-size":_.pageSize,layout:"total, prev, pager, next, jumper",total:_.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])}]]))}}}));
