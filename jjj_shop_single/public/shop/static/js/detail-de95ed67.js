import{d as a,q as e,r as l,f as s,o as t,E as d,h as r,g as i,l as o,m as n,i as c,e as p,c as u,v as _}from"./element-plus-68e4b1c7.js";import{D as m}from"./data-064a7d14.js";import{_ as v,d as y}from"./index-d5abae2c.js";import{o as f,T as g,S as b,P as h,W as k,c as x,Q as V,a9 as C,Y as D,ae as w,ap as j,$ as z,a as L,X as S,M as U}from"./@vue-76da2f05.js";import{O as P}from"./order-aee1564a.js";import A from"./Add-2463bd36.js";import"./@vueuse-90d34f35.js";import"./lodash-es-3f297d7c.js";import"./async-validator-cf877c1f.js";import"./dayjs-13b7e569.js";import"./call-bind-6a1b7bd0.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-9f5f6982.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-b6ab34d8.js";import"./pinia-58dabe83.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-74887072.js";import"./side-channel-9348fcaa.js";import"./object-inspect-c71aff05.js";import"./vue-clipboard2-8d1bb64a.js";import"./clipboard-fb55ee1a.js";import"./vue-ueditor-wrap-c9660067.js";const $=v({data:()=>({dialogVisible:!1,type:"error",params:null,reverse:!1,order_id:0,activities:[],areaList:[],address:{name:"",phone:"",region:{province:"",province_id:"",city:"",city_id:"",region:"",region_id:"",detail:""}}}),props:["isChange","addressData"],watch:{isChange:function(a,e){a!=e&&(this.dialogVisible=a,this.type="error")}},mounted(){this.getData()},methods:{getData(){let a=this;m.getRegion({},!0).then((e=>{a.areaList=e.data.regionData})).catch((a=>{}))},initCity(){this.addressData.city_id=""},initRegion(){this.addressData.region_id=""},dialogFormVisible(a){a?this.$emit("closeDialog",{type:this.type,openDialog:!1,params:this.addressData}):this.$emit("closeDialog",!1)}}},[["render",function(d,r,i,o,n,c){const p=a,u=e,_=l,m=s,v=t;return f(),g(v,{title:"修改地址",modelValue:n.dialogVisible,"onUpdate:modelValue":r[8]||(r[8]=a=>n.dialogVisible=a),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"900px"},{footer:b((()=>[h(m,{size:"small",onClick:r[6]||(r[6]=a=>c.dialogFormVisible(!1))},{default:b((()=>[k("取 消")])),_:1}),h(m,{size:"small",type:"primary",onClick:r[7]||(r[7]=a=>c.dialogFormVisible(!0))},{default:b((()=>[k("确 定")])),_:1})])),default:b((()=>[h(p,{class:"mb16",size:"small",modelValue:i.addressData.name,"onUpdate:modelValue":r[0]||(r[0]=a=>i.addressData.name=a),placeholder:"请输入收货人"},null,8,["modelValue"]),h(p,{class:"mb16",size:"small",modelValue:i.addressData.phone,"onUpdate:modelValue":r[1]||(r[1]=a=>i.addressData.phone=a),placeholder:"请输入收货电话"},null,8,["modelValue"]),h(_,{class:"mb16",modelValue:i.addressData.province_id,"onUpdate:modelValue":r[2]||(r[2]=a=>i.addressData.province_id=a),placeholder:"省",onChange:c.initCity},{default:b((()=>[(f(!0),x(V,null,C(n.areaList,((a,e)=>(f(),g(u,{label:a.name,value:a.id,key:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),""!=i.addressData.province_id?(f(),g(_,{key:0,class:"mb16 ml10",modelValue:i.addressData.city_id,"onUpdate:modelValue":r[3]||(r[3]=a=>i.addressData.city_id=a),placeholder:"市",onChange:c.initRegion},{default:b((()=>[(f(!0),x(V,null,C(n.areaList[i.addressData.province_id].city,((a,e)=>(f(),g(u,{label:a.name,value:a.id,key:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])):D("",!0),""!=i.addressData.city_id?(f(),g(_,{key:1,class:"mb16 ml10",modelValue:i.addressData.region_id,"onUpdate:modelValue":r[4]||(r[4]=a=>i.addressData.region_id=a),placeholder:"区"},{default:b((()=>[(f(!0),x(V,null,C(n.areaList[i.addressData.province_id].city[i.addressData.city_id].region,((a,e)=>(f(),g(u,{label:a.name,value:a.id,key:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):D("",!0),h(p,{class:"mb16",size:"small",modelValue:i.addressData.detail,"onUpdate:modelValue":r[5]||(r[5]=a=>i.addressData.detail=a),placeholder:"请输入详细地址"},null,8,["modelValue"])])),_:1},8,["modelValue"])}]]),q={components:{Add:A,changeAddress:$},data:()=>({active:0,loading:!0,detail:{pay_status:[],pay_type:[],delivery_type:[],user:{},address:[],product:[],order_status:[],extract:[],extract_store:[],express:[],delivery_status:[],extractClerk:[]},open_add:!1,pageSize:20,totalDataNumber:0,curPage:1,form:{express_id:null,express_no:""},forms:{is_cancel:1},extract_form:{order:{extract_status:1}},virtual_form:{virtual_content:""},order:{},delivery_type:0,exStyle:[],shopList:[],userModel:{},create_time:"",expressList:[],shopClerkList:[],open_edit:!1,isChange:!1,addressData:null}),created(){this.getParams()},methods:{next(){this.active++>4&&(this.active=0)},getParams(){let a=this;const e=this.$route.query.order_id;P.orderdetail({order_id:e},!0).then((e=>{a.loading=!1,a.detail=e.data.detail,a.expressList=e.data.expressList,a.shopClerkList=e.data.shopClerkList,a.addressData=a.detail.address})).catch((e=>{a.loading=!1}))},onSubmit(){let a=this,e=a.form;if(null==e.express_id)return void d.error("请选择物流公司");if(""==e.express_no)return void d.error("请填写物流单号");let l=this.$route.query.order_id;P.delivery({param:e,order_id:l},!0).then((e=>{a.loading=!1,d({message:"恭喜你，发货成功",type:"success"}),a.getParams()})).catch((e=>{a.loading=!1}))},closeAddress(a){let e=this;if(0==a)return e.isChange=!1,!1;let l=a.params;l.order_id=e.$route.query.order_id,P.updateAddress(l,!0).then((a=>{e.getParams(),d({message:"修改成功",type:"success"})})).catch((a=>{})),e.isChange=!1},confirmCancel(){let a=this,e=this.$route.query.order_id,l=a.forms.is_cancel;P.confirm({order_id:e,is_cancel:l},!0).then((e=>{a.loading=!1,d({message:"恭喜你，审核成功",type:"success"}),a.getParams()})).catch((e=>{a.loading=!1}))},onExtract(a){let e=this,l=e.extract_form;l.order_id=a,P.extract({extract_form:l},!0).then((a=>{e.loading=!1,d({message:"恭喜你，操作成功",type:"success"}),e.getParams()})).catch((a=>{e.loading=!1}))},onVirtual(a){let e=this,l=e.virtual_form;""!=l.virtual_content?(l.order_id=a,P.virtual({order_id:l.order_id,virtual_content:l.virtual_content},!0).then((a=>{e.loading=!1,d({message:"恭喜你，操作成功",type:"success"}),e.getParams()})).catch((a=>{e.loading=!1}))):d.error("请填写发货信息")},editClick(a){this.userModel=y(a),this.open_edit=!0},closeDialogFunc(a,e){a&&"edit"==e&&(this.open_edit=a.openDialog,this.getParams())},cancelFunc(){this.$router.back(-1)},changeAdd(){this.isChange=!0}}},F={class:"pb50"},M={class:"product-content"},R=L("div",{class:"common-form"},"基本信息",-1),E={class:"table-wrap"},O={class:"pb16"},I=L("span",{class:"gray9"},"订单号：",-1),N={class:"pb16"},Q=L("span",{class:"gray9"},"买家：",-1),K={class:"pb16"},T=L("span",{class:"gray9"},"订单金额 (元)：",-1),W={class:"pb16"},X=L("span",{class:"gray9"},"运费金额 (元)：",-1),Y={key:0,class:"pb16"},B=L("span",{class:"gray9"},"优惠券抵扣 (元)：",-1),G={key:0,class:"pb16"},H=L("span",{class:"gray9"},"积分抵扣 (元)：",-1),J={key:0,class:"pb16"},Z=L("span",{class:"gray9"},"满减金额 (元)：",-1),aa={class:"pb16"},ea=L("span",{class:"gray9"},"定金：",-1),la={class:"pb16"},sa=L("span",{class:"gray9"},"尾款：",-1),ta={class:"pb16"},da=L("span",{class:"gray9"},"尾款立减：",-1),ra={class:"pb16"},ia=L("span",{class:"gray9"},"实付款金额 (元)：",-1),oa={class:"pb16"},na=L("span",{class:"gray9"},"支付方式：",-1),ca={class:"pb16"},pa=L("span",{class:"gray9"},"配送方式：",-1),ua={class:"pb16"},_a=L("span",{class:"gray9"},"交易状态：",-1),ma=L("div",{class:"common-form mt16"},"商品信息",-1),va={class:"table-wrap"},ya={class:"product-info"},fa={class:"pic"},ga={class:"info"},ba={class:"name"},ha={key:0,class:"gray9"},ka={key:1,class:"orange"},xa={class:"price"},Va={key:0,class:"ml10"},Ca={key:1},Da=L("div",{class:"common-form mt16"},"收货信息",-1),wa={class:"table-wrap"},ja={class:"pb16"},za=L("span",{class:"gray9"},"收货人：",-1),La={class:"pb16"},Sa=L("span",{class:"gray9"},"收货电话：",-1),Ua={class:"pb16"},Pa=L("span",{class:"gray9"},"收货地址：",-1),Aa={class:"pb16"},$a={class:"pb16"},qa=L("span",{class:"gray9"},"备注：",-1),Fa=L("div",{class:"common-form mt16"},"自提用户信息",-1),Ma={key:0,class:"table-wrap"},Ra={class:"pb16"},Ea=L("span",{class:"gray9"},"联系人：",-1),Oa={class:"pb16"},Ia=L("span",{class:"gray9"},"联系电话：",-1),Na={class:"pb16"},Qa=L("span",{class:"gray9"},"备注：",-1),Ka=L("div",{class:"common-form mt16"},"自提信息",-1),Ta={key:1,class:"table-wrap"},Wa={class:"pb16"},Xa=L("span",{class:"gray9"},"门店ID：",-1),Ya={class:"pb16"},Ba=L("span",{class:"gray9"},"门店名称：",-1),Ga={class:"pb16"},Ha=L("span",{class:"gray9"},"联系人：",-1),Ja={class:"pb16"},Za=L("span",{class:"gray9"},"联系电话：",-1),ae={class:"pb16"},ee=L("span",{class:"gray9"},"门店地址：",-1),le=L("div",{class:"common-form mt16"},"用户信息",-1),se={class:"table-wrap"},te={class:"pb16"},de=L("span",{class:"gray9"},"联系手机：",-1),re={class:"pb16"},ie=L("span",{class:"gray9"},"备注：",-1),oe={key:4,class:"table-wrap"},ne=L("div",{class:"common-form mt16"},"付款信息",-1),ce={class:"table-wrap"},pe={class:"pb16"},ue=L("span",{class:"gray9"},"应付款金额：",-1),_e={class:"pb16"},me=L("span",{class:"gray9"},"支付方式：",-1),ve={class:"pb16"},ye=L("span",{class:"gray9"},"支付流水号：",-1),fe={class:"pb16"},ge=L("span",{class:"gray9"},"付款状态：",-1),be={class:"pb16"},he=L("span",{class:"gray9"},"付款时间：",-1),ke={key:5},xe=L("div",{class:"common-form mt16"},"用户取消订单",-1),Ve=L("p",{class:"red pb16"},"当前买家已付款并申请取消订单，请审核是否同意，如同意则自动退回付款金额（微信支付原路退款）并关闭订单。",-1),Ce={key:6},De={key:0},we=L("div",{class:"common-form mt16"},"去发货",-1),je={key:1},ze=L("div",{class:"common-form mt16"},"发货信息",-1),Le={class:"table-wrap"},Se={class:"pb16"},Ue=L("span",{class:"gray9"},"物流公司：",-1),Pe={class:"pb16"},Ae=L("span",{class:"gray9"},"物流单号：",-1),$e={class:"pb16"},qe=L("span",{class:"gray9"},"发货状态：",-1),Fe={class:"pb16"},Me=L("span",{class:"gray9"},"发货时间：",-1),Re={key:7,class:"table-wrap"},Ee=L("div",{class:"common-form mt16"},"取消信息",-1),Oe={class:"table-wrap"},Ie={class:"pb16"},Ne=L("span",{class:"gray9"},"商家备注：",-1),Qe={key:8},Ke=L("div",{class:"common-form mt16"},"门店自提核销",-1),Te={key:0},We={key:1,class:"table-wrap"},Xe={class:"pb16"},Ye=L("span",{class:"gray9"},"自提门店名称：",-1),Be={class:"pb16"},Ge=L("span",{class:"gray9"},"核销员：",-1),He={class:"pb16"},Je=L("span",{class:"gray9"},"核销状态：",-1),Ze={class:"pb16"},al=L("span",{class:"gray9"},"核销时间：",-1),el={key:9},ll=L("div",{class:"common-form mt16"},"虚拟商品发货",-1),sl={key:0},tl={key:1,class:"table-wrap"},dl={class:"pb16"},rl=L("span",{class:"gray9"},"发货信息：",-1),il={class:"pb16"},ol=L("span",{class:"gray9"},"发货状态：",-1),nl={class:"pb16"},cl=L("span",{class:"gray9"},"发货时间：",-1),pl={class:"common-button-wrapper"};const ul=v(q,[["render",function(t,d,m,v,y,P){const A=r,q=s,ul=i,_l=w("Add"),ml=o,vl=n,yl=c,fl=p,gl=u,bl=e,hl=l,kl=a,xl=$,Vl=j("auth"),Cl=j("img-url"),Dl=_;return z((f(),x("div",F,[L("div",M,[R,L("div",E,[h(ul,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",O,[I,k(" "+S(y.detail.order_no),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",N,[Q,k(" "+S(y.detail.user.nickName)+" ",1),L("span",null,"用户ID：("+S(y.detail.user.user_id)+")",1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",K,[T,k(" "+S(y.detail.order_price),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",W,[X,k(" "+S(y.detail.express_price),1)])])),_:1}),h(A,{span:5},{default:b((()=>[y.detail.coupon_money>0?(f(),x("div",Y,[B,k(" "+S(y.detail.coupon_money),1)])):D("",!0)])),_:1}),h(A,{span:5},{default:b((()=>[y.detail.points_money>0?(f(),x("div",G,[H,k(" "+S(y.detail.points_money),1)])):D("",!0)])),_:1}),h(A,{span:5},{default:b((()=>[y.detail.fullreduce_money>0?(f(),x("div",J,[Z,k(" "+S(y.detail.fullreduce_money),1)])):D("",!0)])),_:1}),80==y.detail.order_source?(f(),g(A,{key:0,span:5},{default:b((()=>[L("div",aa,[ea,k(" "+S(y.detail.advance.pay_price),1)])])),_:1})):D("",!0),80==y.detail.order_source?(f(),g(A,{key:1,span:5},{default:b((()=>[L("div",la,[sa,k(" "+S(y.detail.total_price),1)])])),_:1})):D("",!0),80==y.detail.order_source&&y.detail.advance.reduce_money?(f(),g(A,{key:2,span:5},{default:b((()=>[L("div",ta,[da,k(" "+S(y.detail.advance.reduce_money),1)])])),_:1})):D("",!0),h(A,{span:5},{default:b((()=>[L("div",ra,[ia,k(" "+S(y.detail.pay_price),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",oa,[na,k(" "+S(y.detail.pay_type.text),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",ca,[pa,k(" "+S(y.detail.delivery_type.text),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",ua,[_a,k(" "+S(y.detail.order_status.text),1)])])),_:1}),10==y.detail.pay_status.value&&10==y.detail.order_status.value&&10==y.detail.order_source?z((f(),g(A,{key:3,span:5},{default:b((()=>[h(q,{onClick:d[0]||(d[0]=a=>P.editClick(y.detail)),size:"small"},{default:b((()=>[k("修改价格")])),_:1})])),_:1})),[[Vl,"/order/order/updatePrice"]]):D("",!0)])),_:1})]),y.open_edit?(f(),g(_l,{key:0,open_edit:y.open_edit,order:y.userModel,onClose:d[1]||(d[1]=a=>P.closeDialogFunc(a,"edit"))},null,8,["open_edit","order"])):D("",!0),ma,L("div",va,[h(vl,{size:"small",data:y.detail.product,border:"",style:{width:"100%"}},{default:b((()=>[h(ml,{prop:"product_name",label:"商品",width:"400"},{default:b((a=>[L("div",ya,[L("div",fa,[z(L("img",null,null,512),[[Cl,a.row.image.file_path]])]),L("div",ga,[L("div",ba,S(a.row.product_name),1),""!=a.row.product_attr?(f(),x("div",ha,S(a.row.product_attr),1)):D("",!0),a.row.refund?(f(),x("div",ka,S(a.row.refund.type.text)+"-"+S(a.row.refund.status.text),1)):D("",!0),L("div",xa,[L("span",{class:U({"text-d-line":1==a.row.is_user_grade,gray6:1!=a.row.is_user_grade})},"￥ "+S(a.row.product_price),3),1==a.row.is_user_grade?(f(),x("span",Va," 会员折扣价：￥ "+S(a.row.grade_product_price),1)):D("",!0)])])])])),_:1}),h(ml,{prop:"product_no",label:"商品编码"}),h(ml,{prop:"product_weight",label:"重量 (Kg)"}),h(ml,{prop:"total_num",label:"购买数量"},{default:b((a=>[L("p",null,"x "+S(a.row.total_num),1)])),_:1}),h(ml,{prop:"total_price",label:"商品总价(元)"},{default:b((a=>[L("p",null,"￥ "+S(a.row.total_price),1)])),_:1})])),_:1},8,["data"])]),10==y.detail.delivery_type.value?(f(),x("div",Ca,[Da,L("div",wa,[h(ul,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",ja,[za,k(" "+S(y.detail.address.name),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",La,[Sa,k(" "+S(y.detail.address.phone),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Ua,[Pa,k(" "+S(y.detail.address.region.province)+" "+S(y.detail.address.region.city)+" "+S(y.detail.address.region.region)+" "+S(y.detail.address.detail),1)])])),_:1}),20!=y.detail.delivery_status.value&&10==y.detail.order_status.value?(f(),g(A,{key:0,span:5},{default:b((()=>[L("div",Aa,[h(q,{type:"text",size:"small",onClick:P.changeAdd},{default:b((()=>[k(" 修改地址")])),_:1},8,["onClick"])])])),_:1})):D("",!0)])),_:1}),h(ul,null,{default:b((()=>[h(A,{span:25},{default:b((()=>[L("div",$a,[qa,k(" "+S(y.detail.buyer_remark),1)])])),_:1})])),_:1})])])):D("",!0),20==y.detail.delivery_type.value?(f(),x(V,{key:2},[Fa,y.detail.extract?(f(),x("div",Ma,[h(ul,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Ra,[Ea,k(" "+S(y.detail.extract.linkman),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Oa,[Ia,k(" "+S(y.detail.extract.phone),1)])])),_:1})])),_:1}),h(ul,null,{default:b((()=>[h(A,{span:25},{default:b((()=>[L("div",Na,[Qa,k(" "+S(y.detail.buyer_remark),1)])])),_:1})])),_:1})])):D("",!0),Ka,y.detail.extract?(f(),x("div",Ta,[h(ul,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Wa,[Xa,k(" "+S(y.detail.extractStore.store_id),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Ya,[Ba,k(" "+S(y.detail.extractStore.store_name),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Ga,[Ha,k(" "+S(y.detail.extractStore.linkman),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Ja,[Za,k(" "+S(y.detail.extractStore.phone),1)])])),_:1}),h(A,{span:15},{default:b((()=>[L("div",ae,[ee,k(" "+S(y.detail.extractStore.region.province)+"- "+S(y.detail.extractStore.region.city)+"- "+S(y.detail.extractStore.region.region)+"- "+S(y.detail.extractStore.address),1)])])),_:1})])),_:1})])):D("",!0)],64)):D("",!0),30==y.detail.delivery_type.value?(f(),x(V,{key:3},[le,L("div",se,[h(ul,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",te,[de,k(" "+S(y.detail.user.mobile),1)])])),_:1})])),_:1}),h(ul,null,{default:b((()=>[h(A,{span:25},{default:b((()=>[L("div",re,[ie,k(" "+S(y.detail.buyer_remark),1)])])),_:1})])),_:1})])],64)):D("",!0),20==y.detail.pay_status.value?(f(),x("div",oe,[ne,L("div",ce,[h(ul,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",pe,[ue,k(" "+S(y.detail.pay_price),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",_e,[me,k(" "+S(y.detail.pay_type.text),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",ve,[ye,k(" "+S(y.detail.transaction_id),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",fe,[ge,k(" "+S(y.detail.pay_status.text),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",be,[he,k(" "+S(y.detail.pay_time),1)])])),_:1})])),_:1})])])):D("",!0),20==y.detail.pay_status.value&&21==y.detail.order_status.value?z((f(),x("div",ke,[xe,Ve,h(gl,{size:"small",ref:"forms",model:y.forms},{default:b((()=>[h(fl,{label:"审核状态"},{default:b((()=>[L("div",null,[h(yl,{modelValue:y.forms.is_cancel,"onUpdate:modelValue":d[2]||(d[2]=a=>y.forms.is_cancel=a),label:1},{default:b((()=>[k("同意")])),_:1},8,["modelValue"]),h(yl,{modelValue:y.forms.is_cancel,"onUpdate:modelValue":d[3]||(d[3]=a=>y.forms.is_cancel=a),label:0},{default:b((()=>[k("拒绝")])),_:1},8,["modelValue"])])])),_:1})])),_:1},8,["model"])])),[[Vl,"/order/operate/confirmCancel"]]):D("",!0),20!=y.detail.pay_status.value||10!=y.detail.delivery_type.value||-1!==[20,21].indexOf(y.detail.order_status.value)||y.detail.assemble_status&&20!=y.detail.assemble_status?D("",!0):z((f(),x("div",Ce,[10==y.detail.delivery_status.value?(f(),x("div",De,[we,h(gl,{size:"small",ref:"form",model:y.form,"label-width":"100px"},{default:b((()=>[h(fl,{label:"物流公司"},{default:b((()=>[h(hl,{modelValue:y.form.express_id,"onUpdate:modelValue":d[4]||(d[4]=a=>y.form.express_id=a),placeholder:"请选择快递公司"},{default:b((()=>[(f(!0),x(V,null,C(y.expressList,((a,e)=>(f(),g(bl,{label:a.express_name,key:e,value:a.express_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),h(fl,{label:"物流单号"},{default:b((()=>[h(kl,{modelValue:y.form.express_no,"onUpdate:modelValue":d[5]||(d[5]=a=>y.form.express_no=a),class:"max-w460"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])):(f(),x("div",je,[ze,L("div",Le,[h(ul,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Se,[Ue,k(" "+S(y.detail.express.express_name),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Pe,[Ae,k(" "+S(y.detail.express_no),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",$e,[qe,k(" "+S(y.detail.delivery_status.text),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Fe,[Me,k(" "+S(y.detail.delivery_time),1)])])),_:1})])),_:1})])]))])),[[Vl,"/order/order/delivery"]]),20==y.detail.order_status.value&&""!=y.detail.cancel_remark?(f(),x("div",Re,[Ee,L("div",Oe,[h(ul,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Ie,[Ne,k(" "+S(y.detail.cancel_remark),1)])])),_:1})])),_:1})])])):D("",!0),20==y.detail.delivery_type.value&&20==y.detail.pay_status.value&&21!=y.detail.order_status.value&&20!=y.detail.order_status.value?z((f(),x("div",Qe,[Ke,10==y.detail.delivery_status.value?(f(),x("div",Te,[h(gl,{size:"small",ref:"extract_form",model:y.extract_form,"label-width":"100px"},{default:b((()=>[h(fl,{label:"门店核销员"},{default:b((()=>[h(hl,{modelValue:y.extract_form.order.extract_clerk_id,"onUpdate:modelValue":d[6]||(d[6]=a=>y.extract_form.order.extract_clerk_id=a),placeholder:"点击选择"},{default:b((()=>[(f(!0),x(V,null,C(y.shopClerkList,((a,e)=>(f(),g(bl,{label:a.real_name,key:a.clerk_id,value:a.clerk_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),h(fl,{label:"买家取货状态 "},{default:b((()=>[h(yl,{modelValue:y.extract_form.order.extract_status,"onUpdate:modelValue":d[7]||(d[7]=a=>y.extract_form.order.extract_status=a),label:1},{default:b((()=>[k("已取货")])),_:1},8,["modelValue"])])),_:1}),h(fl,null,{default:b((()=>[h(q,{type:"primary",onClick:d[8]||(d[8]=a=>P.onExtract(y.detail.order_id))},{default:b((()=>[k("确认核销")])),_:1})])),_:1})])),_:1},8,["model"])])):(f(),x("div",We,[y.detail.extractClerk?(f(),g(ul,{key:0},{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Xe,[Ye,k(" "+S(y.detail.extractStore.store_name),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Be,[Ge,k(" "+S(y.detail.extractClerk.real_name),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",He,[Je,20==y.detail.delivery_status.value?(f(),x(V,{key:0},[k(" 已核销 ")],64)):D("",!0)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Ze,[al,k(" "+S(y.detail.delivery_time),1)])])),_:1})])),_:1})):D("",!0)]))])),[[Vl,"/order/operate/extract"]]):D("",!0),30==y.detail.delivery_type.value&&20==y.detail.pay_status.value&&21!=y.detail.order_status.value&&20!=y.detail.order_status.value?z((f(),x("div",el,[ll,10==y.detail.delivery_status.value?(f(),x("div",sl,[h(gl,{size:"small",ref:"virtual_form",model:y.virtual_form,"label-width":"100px"},{default:b((()=>[h(fl,{label:"发货信息"},{default:b((()=>[h(kl,{modelValue:y.virtual_form.virtual_content,"onUpdate:modelValue":d[9]||(d[9]=a=>y.virtual_form.virtual_content=a),class:"max-w460"},null,8,["modelValue"])])),_:1}),h(fl,null,{default:b((()=>[h(q,{type:"primary",onClick:d[10]||(d[10]=a=>P.onVirtual(y.detail.order_id))},{default:b((()=>[k("确认发货")])),_:1})])),_:1})])),_:1},8,["model"])])):(f(),x("div",tl,[y.detail.virtual_content?(f(),g(ul,{key:0},{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",dl,[rl,k(" "+S(y.detail.virtual_content),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",il,[ol,20==y.detail.delivery_status.value?(f(),x(V,{key:0},[k(" 已发货 ")],64)):D("",!0)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",nl,[cl,k(" "+S(y.detail.delivery_time),1)])])),_:1})])),_:1})):D("",!0)]))])),[[Vl,"/order/order/delivery"]]):D("",!0)]),L("div",pl,[h(q,{size:"small",type:"info",onClick:P.cancelFunc},{default:b((()=>[k("返回上一页")])),_:1},8,["onClick"]),20!=y.detail.pay_status.value||10!=y.detail.delivery_type.value||-1!==[20,21].indexOf(y.detail.order_status.value)||y.detail.assemble_status&&20!=y.detail.assemble_status?D("",!0):(f(),x(V,{key:0},[10==y.detail.delivery_status.value?(f(),g(q,{key:0,size:"small",type:"primary",onClick:P.onSubmit},{default:b((()=>[k("确认发货 ")])),_:1},8,["onClick"])):D("",!0)],64)),20==y.detail.pay_status.value&&21==y.detail.order_status.value?(f(),g(q,{key:1,size:"small",type:"primary",onClick:d[11]||(d[11]=a=>P.confirmCancel())},{default:b((()=>[k("确认审核")])),_:1})):D("",!0)]),null!=y.addressData?(f(),g(xl,{key:0,isChange:y.isChange,addressData:y.addressData,onCloseDialog:P.closeAddress},null,8,["isChange","addressData","onCloseDialog"])):D("",!0)])),[[Dl,y.loading]])}]]);export{ul as default};
