import{_ as e}from"./Upload-b4b0cf8c.js";import{E as a,d as s,e as l,j as o,k as r,D as t,f as i,c as m}from"./element-plus-68e4b1c7.js";import{S as d}from"./setting-688fb592.js";import{_ as p,f as u}from"./index-d5abae2c.js";import{o as c,c as n,P as f,S as _,Q as v,a9 as y,T as g,W as h,X as j,a as b,Y as k,bb as V,b9 as w}from"./@vue-76da2f05.js";import"./AddCategory-f060626c.js";import"./file-c3df6c02.js";/* empty css                                                               */import"./@vueuse-90d34f35.js";import"./lodash-es-3f297d7c.js";import"./async-validator-cf877c1f.js";import"./dayjs-13b7e569.js";import"./call-bind-6a1b7bd0.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-9f5f6982.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-b6ab34d8.js";import"./pinia-58dabe83.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-74887072.js";import"./side-channel-9348fcaa.js";import"./object-inspect-c71aff05.js";import"./vue-clipboard2-8d1bb64a.js";import"./clipboard-fb55ee1a.js";import"./vue-ueditor-wrap-c9660067.js";const x={components:{Upload:e},data:()=>({loading:!1,form:{name:"",customer:"",key:"",checkedCities:[],is_get_log:0,service:"",privacy:"",is_send_wx:0},all_type:[],delivery_type:[],isupload:!1}),created(){this.getParams()},methods:{getParams(){let e=this;d.storeDetail({},!0).then((a=>{let s=a.data.vars.values;e.form=u(e.form,s),e.all_type=a.data.all_type,e.form.customer=s.kuaidi100.customer,e.form.key=s.kuaidi100.key,e.form.service=s.policy.service,e.form.privacy=s.policy.privacy,e.form.checkedCities=s.delivery_type;for(let l=0;l<e.form.checkedCities.length;l++)e.form.checkedCities[l]=parseInt(e.form.checkedCities[l]);e.loading=!1})).catch((e=>{}))},onSubmit(){let e=this,s=this.form;s.checkedCities.length<1?a({message:"配送方式至少选择一种！",type:"warning"}):e.$refs.form.validate((l=>{l&&(e.loading=!0,d.editStore(s,!0).then((s=>{e.loading=!1,a({message:"恭喜你，商城设置成功",type:"success"}),e.$router.push("/setting/store/index")})).catch((a=>{e.loading=!1})))}))}}},C=e=>(V("data-v-42a2340e"),e=e(),w(),e),U={class:"product-add"},q=C((()=>b("div",{class:"common-form"},"商城设置",-1))),I=C((()=>b("div",{class:"tips"},"注：配送方式至少选择一个",-1))),S=C((()=>b("div",{class:"common-form"},"小程序发货",-1))),P=C((()=>b("div",{class:"tips"},"后台发货后自动向小程序发货",-1))),z=C((()=>b("div",{class:"common-form"},"日志记录",-1))),D=C((()=>b("div",{class:"tips"},"如果记录，日志量会有点大",-1))),R=C((()=>b("div",{class:"common-form"},"物流查询api",-1))),$={class:"tips"},A=C((()=>b("div",{class:"common-form"},"政策协议",-1))),E=C((()=>b("div",{class:"tips"},"进入app和登录、注册页面显示",-1))),F={class:"common-button-wrapper"};const J=p(x,[["render",function(a,d,p,u,V,w){const x=s,C=l,J=o,K=r,N=t,O=i,Q=m,T=e;return c(),n("div",U,[f(Q,{size:"small",ref:"form",model:V.form,"label-width":"150px"},{default:_((()=>[q,f(C,{label:"商城名称",rules:[{required:!0,message:" "}],prop:"name"},{default:_((()=>[f(x,{modelValue:V.form.name,"onUpdate:modelValue":d[0]||(d[0]=e=>V.form.name=e),placeholder:"商城名称",class:"max-w460"},null,8,["modelValue"])])),_:1}),f(C,{label:"配送方式"},{default:_((()=>[f(K,{modelValue:V.form.checkedCities,"onUpdate:modelValue":d[1]||(d[1]=e=>V.form.checkedCities=e)},{default:_((()=>[(c(!0),n(v,null,y(V.all_type,((e,a)=>(c(),g(J,{label:e.value,key:a},{default:_((()=>[h(j(e.name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),I])),_:1}),S,f(C,{label:"小程序发货",prop:"is_send_wx"},{default:_((()=>[f(J,{modelValue:V.form.is_send_wx,"onUpdate:modelValue":d[2]||(d[2]=e=>V.form.is_send_wx=e)},{default:_((()=>[h("向小程序发货")])),_:1},8,["modelValue"]),P])),_:1}),z,f(C,{label:"是否记录查询日志",prop:"customer"},{default:_((()=>[f(J,{modelValue:V.form.is_get_log,"onUpdate:modelValue":d[3]||(d[3]=e=>V.form.is_get_log=e)},{default:_((()=>[h("记录查询日志")])),_:1},8,["modelValue"]),D])),_:1}),R,f(C,{label:"快递100 Customer",rules:[{required:!0,message:" "}],prop:"customer"},{default:_((()=>[f(x,{modelValue:V.form.customer,"onUpdate:modelValue":d[4]||(d[4]=e=>V.form.customer=e),placeholder:"",class:"max-w460"},null,8,["modelValue"]),b("div",$,[h("用于查询物流信息,"),f(N,{underline:!1,href:"https://www.kuaidi100.com/openapi/",target:"_blank",type:"primary"},{default:_((()=>[h("快递100申请")])),_:1})])])),_:1}),f(C,{label:"快递100 Key",rules:[{required:!0,message:" "}],prop:"key"},{default:_((()=>[f(x,{modelValue:V.form.key,"onUpdate:modelValue":d[5]||(d[5]=e=>V.form.key=e),placeholder:"",class:"max-w460"},null,8,["modelValue"])])),_:1}),A,f(C,{label:"服务协议",rules:[{required:!0,message:" "}],prop:"service"},{default:_((()=>[f(x,{modelValue:V.form.service,"onUpdate:modelValue":d[6]||(d[6]=e=>V.form.service=e),placeholder:"",class:"max-w460"},null,8,["modelValue"]),E])),_:1}),f(C,{label:"隐私政策",rules:[{required:!0,message:" "}],prop:"privacy"},{default:_((()=>[f(x,{modelValue:V.form.privacy,"onUpdate:modelValue":d[7]||(d[7]=e=>V.form.privacy=e),placeholder:"",class:"max-w460"},null,8,["modelValue"])])),_:1}),b("div",F,[f(O,{type:"primary",onClick:w.onSubmit,loading:V.loading},{default:_((()=>[h("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"]),V.isupload?(c(),g(T,{key:0,isupload:V.isupload,config:{total:3},onReturnImgs:a.returnImgsFunc},null,8,["isupload","onReturnImgs"])):k("",!0)])}],["__scopeId","data-v-42a2340e"]]);export{J as default};
