System.register(["./element-plus-legacy-25032714.js","./region-legacy-ad3e117c.js","./index-legacy-f6e6523a.js","./@vue-legacy-3f894b11.js","./lodash-es-legacy-74aa31b9.js","./async-validator-legacy-aa1fd2de.js","./@vueuse-legacy-6722057a.js","./dayjs-legacy-6e85b031.js","./call-bind-legacy-1e89bf8a.js","./get-intrinsic-legacy-bfdfe19a.js","./has-symbols-legacy-afcc0593.js","./function-bind-legacy-b76e1749.js","./has-legacy-06d86c07.js","./@element-plus-legacy-40a48038.js","./escape-html-legacy-ae962a8c.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./request-legacy-64700e69.js","./axios-legacy-40880ebd.js","./qs-legacy-31069618.js","./side-channel-legacy-27799042.js","./object-inspect-legacy-742bf942.js","./vue-router-legacy-e1dde10d.js","./pinia-legacy-6a4dd62f.js","./vue-demi-legacy-97cfbb01.js"],(function(e,l){"use strict";var a,n,t,i,u,r,o,c,s,d,g,f,m,h,p,y,v,b,C,_,j,k,F,z,D;return{setters:[function(e){a=e.E,n=e.f,t=e.e,i=e.b,u=e.k,r=e.s,o=e.v,c=e.c,s=e.d,d=e.g,g=e.h,f=e.j},function(e){m=e.R},function(e){h=e._},function(e){p=e.c,y=e.a,v=e.O,b=e.R,C=e._,_=e.S,j=e.o,k=e.P,F=e.a8,z=e.X,D=e.V},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l={data:function(){return{loading:!0,tableData:[],pageSize:15,totalDataNumber:0,curPage:1,open_add:!1,open_edit:!1,userModel:{},searchForm:{name:"",level:0,province_id:"",city_id:""},areaList:[]}},created:function(){this.getData()},methods:{handleCurrentChange:function(e){var l=this;l.curPage=e,l.loading=!0,l.getData()},handleSizeChange:function(e){this.curPage=1,this.pageSize=e,this.getData()},getData:function(){var e=this,l=e.searchForm;l.page=e.curPage,l.list_rows=e.pageSize,m.regionList(l,!0).then((function(l){e.loading=!1,e.tableData=l.data.list.data,e.totalDataNumber=l.data.list.total,e.areaList=l.data.regionData})).catch((function(e){}))},onSubmit:function(){this.curPage=1,this.getData()},addClick:function(){this.$router.push("/region/add")},editClick:function(e){this.$router.push({path:"/region/edit",query:{id:e.id}})},initCity:function(){this.searchForm.city_id=""},deleteClick:function(e){var l=this;a.confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l.loading=!0,m.deleteRegion({id:e.id},!0).then((function(e){l.loading=!1,n({message:e.msg,type:"success"}),l.getData()})).catch((function(e){l.loading=!1}))})).catch((function(){}))}}},S={class:"user"},V=y("div",{class:"common-form"},"地区列表",-1),w={class:"common-seach-wrap"},x={class:"common-level-rail"},P={class:"product-content"},L={class:"table-wrap"},U={key:0},q={key:1},N={key:2},R={class:"pagination"};e("default",h(l,[["render",function(e,l,a,n,m,h){var B=c,T=s,$=d,E=g,G=t,M=i,O=f,X=u,A=r,H=o;return j(),p("div",S,[V,y("div",w,[v(M,{inline:!0,model:m.searchForm,class:"demo-form-inline"},{default:b((function(){return[v(T,{label:"名称"},{default:b((function(){return[v(B,{modelValue:m.searchForm.name,"onUpdate:modelValue":l[0]||(l[0]=function(e){return m.searchForm.name=e}),placeholder:"请输入名称"},null,8,["modelValue"])]})),_:1}),v(T,{label:"地区类型"},{default:b((function(){return[y("div",null,[v(E,{modelValue:m.searchForm.level,"onUpdate:modelValue":l[1]||(l[1]=function(e){return m.searchForm.level=e})},{default:b((function(){return[v($,{label:"全部",value:0}),v($,{label:"省份",value:1}),v($,{label:"城市",value:2}),v($,{label:"地区",value:3})]})),_:1},8,["modelValue"])])]})),_:1}),v(T,{label:"选择上级"},{default:b((function(){return[v(E,{modelValue:m.searchForm.province_id,"onUpdate:modelValue":l[2]||(l[2]=function(e){return m.searchForm.province_id=e}),placeholder:"省",onChange:h.initCity},{default:b((function(){return[v($,{label:"全部",value:""}),(j(!0),p(k,null,F(m.areaList,(function(e,l){return j(),_($,{label:e.name,value:e.id,key:l},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"]),""!=m.searchForm.province_id?(j(),_(E,{key:0,modelValue:m.searchForm.city_id,"onUpdate:modelValue":l[3]||(l[3]=function(e){return m.searchForm.city_id=e}),placeholder:"市"},{default:b((function(){return[v($,{label:"全部",value:""}),(j(!0),p(k,null,F(m.areaList[m.searchForm.province_id].city,(function(e,l){return j(),_($,{label:e.name,value:e.id,key:l},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):z("",!0)]})),_:1}),v(T,null,{default:b((function(){return[v(G,{type:"primary",icon:"Search",onClick:h.onSubmit},{default:b((function(){return[D("查询")]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"])]),y("div",x,[v(G,{type:"primary",onClick:h.addClick},{default:b((function(){return[D("添加")]})),_:1},8,["onClick"])]),y("div",P,[y("div",L,[C((j(),_(X,{data:m.tableData,border:"",style:{width:"100%"}},{default:b((function(){return[v(O,{prop:"shortname",label:"简称"}),v(O,{prop:"name",label:"名称"}),v(O,{prop:"merger_name",label:"名称"}),v(O,{label:"级别"},{default:b((function(e){return[1==e.row.level?(j(),p("span",U,"省份")):z("",!0),2==e.row.level?(j(),p("span",q,"城市")):z("",!0),3==e.row.level?(j(),p("span",N,"地区")):z("",!0)]})),_:1}),v(O,{prop:"lng",label:"经度"}),v(O,{prop:"lat",label:"纬度"}),v(O,{fixed:"right",label:"操作",width:"90"},{default:b((function(e){return[v(G,{onClick:function(l){return h.editClick(e.row)},type:"text",size:"small"},{default:b((function(){return[D("编辑")]})),_:2},1032,["onClick"]),v(G,{onClick:function(l){return h.deleteClick(e.row)},type:"text",size:"small"},{default:b((function(){return[D("删除")]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])),[[H,m.loading]])]),y("div",R,[v(A,{onSizeChange:h.handleSizeChange,onCurrentChange:h.handleCurrentChange,background:"","current-page":m.curPage,small:"","page-size":m.pageSize,layout:"total, prev, pager, next, jumper",total:m.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}]]))}}}));
