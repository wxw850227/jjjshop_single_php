import{u as e,r as n,_ as t}from"./index-660c53aa.js";import{u as i}from"./vue-router-0438cf31.js";import{E as s,J as a,w as c,K as o,o as l,c as r,a as u,L as m,P as h,a8 as d,W as p,X as v,O as f,ad as g}from"./@vue-5f6096d8.js";import{E as x,f as j}from"./element-plus-1acdbba0.js";import"./pinia-a7eba4b6.js";import"./vue-demi-71ba0ef2.js";import"./@element-plus-e5d54f4f.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-9798be2d.js";import"./dayjs-342c85a3.js";import"./call-bind-0966096f.js";import"./get-intrinsic-ccd8a43d.js";import"./has-symbols-456daba2.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";const b=s({setup(n,{emit:t}){const s=i(),{bus_emit:l}=e(),r=a({route:s,active_menu:null,active_child:0,menuList:[{name:"插件",icon:"icon-chajian",path:"/plugs",redirect:"/plugs/plugs/Index",children:[{name:"全部插件",icon:null,path:"/plugs/plugs/Index"}]},{name:"权限",icon:"icon-quanxianguanli",path:"/access",redirect:"/access/Index",children:[{name:"权限列表",icon:null,path:"/access/Index"}]},{name:"商城",icon:"icon-fenqifenqishangcheng2",path:"/shop",redirect:"/shop/Index",children:[{name:"商城列表",icon:null,path:"/shop/Index"}]},{name:"消息",icon:"icon-xiaoxi2",path:"/message",redirect:"/message/Index",children:[{name:"消息列表",icon:null,path:"/message/Index"}]},{name:"地区",icon:"icon-diqu",path:"/region",redirect:"/region/Index",children:[{name:"地区列表",icon:null,path:"/region/Index"}]},{name:"设置",icon:"icon-icon-test1",path:"/setting",redirect:"/setting/Index",children:[{name:"设置",icon:null,path:"/setting/Index"}]},{name:"密码",icon:"icon-authority1",path:"/password",redirect:"/password/Index",children:[{name:"修改密码",icon:null,path:"/password/Index"}]}]}),u=async e=>{let n="首页",i="/"+e.path.split("/")[1];for(let t=0;t<r.menuList.length;t++){if(i==r.menuList[t].path){n=r.menuList[t].name,r.active_menu=t;let i=e.path;if(r.menuList[t].children){let e=r.menuList[t].children;for(let t=0;t<e.length;t++){if(i==e[t].path){n=e[t].name,r.active_child=t;break}r.active_child=0}}break}r.active_menu=null}l("MenuName",n),t("selectMenu",r.active_menu)};return c((()=>s),((e,n)=>{const t=e.path.split("/").length,i=n?n.path.split("/").length:0;r.transitionName=t<i?"slide-right":"slide-left",u(e)}),{deep:!0,immediate:!0}),{...o(r),selectMenu:u,route:s}},methods:{choseMenu(e){if(null!=e){let t=e.redirect||e.path;n.push(t)}else n.push("/Home")}}}),I={class:"left-menu-wrapper"},_={class:"menu-wrapper"},k={class:"home-login"},w=[u("span",{class:"icon iconfont icon-tubiaozhizuomoban-"},null,-1)],L={class:"nav-wrapper"},M={class:"first-menu-content"},y={class:"nav-ul"},C=["onClick"],q={class:"item-box"},N={class:"child-menu-wrapper"},z={class:"child-menu right-animation"},H={key:0},$=["onClick"],B={class:"name"};const E=t(b,[["render",function(e,n,t,i,s,a){return l(),r("div",I,[u("div",_,[u("div",k,[u("div",{class:m(null!=e.active_menu?"home-icon":"home-icon router-link-active"),onClick:n[0]||(n[0]=n=>e.choseMenu(null))},w,2)]),u("div",L,[u("div",M,[u("ul",y,[(l(!0),r(h,null,d(e.menuList,((n,t)=>(l(),r("li",{class:m(e.active_menu==t?"menu-item router-link-active":"menu-item"),key:t,onClick:t=>e.choseMenu(n)},[u("div",q,[u("span",{class:m("icon iconfont menu-item-icon "+n.icon)},null,2),u("span",null,p(n.name),1)])],10,C)))),128))])])])]),u("div",N,[u("div",z,[null!=e.active_menu?(l(),r("ul",H,[(l(!0),r(h,null,d(e.menuList[e.active_menu].children,((n,t)=>(l(),r("li",{class:m(e.active_child==t?"router-link router-link-active":"router-link"),key:t,onClick:t=>e.choseMenu(n)},[u("span",B,p(n.name),1)],10,$)))),128))])):v("",!0)])])])}]]),{userInfo:F,bus_on:R,afterLogout:S}=e(),T=s({setup(){const e=a({menu_title:"首页",userInfo:F});return R("MenuName",(n=>{e.menu_title=n})),{...o(e),userInfo:F,afterLogout:S}},methods:{exit(){x.confirm("此操作将退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.logout()})).catch((()=>{j({type:"info",message:"已取消退出"})}))},async logout(){await this.afterLogout(),this.$router.push("/login")}}}),J={class:"common-header"},K={class:"breadcrumb"},O={class:"baseInfo-left-base"},P={class:"name"},W={class:"header-navbar"},X={class:"header-navbar-icon"},A=u("span",{class:"ml4 icon iconfont icon-geren9"},null,-1),D={class:"text ml4"},G=[u("span",{class:"icon iconfont icon-tuichu"},null,-1),u("span",{class:"text ml4"},"退出",-1)];const Q=s({components:{Heads:t(T,[["render",function(e,n,t,i,s,a){return l(),r("div",J,[u("div",K,[u("div",O,[u("span",P,p(e.menu_title),1)]),u("div",W,[u("div",X,[A,u("span",D,p(e.userInfo&&e.userInfo.userName)+"，欢迎您！",1)]),u("div",{class:"header-navbar-icon",onClick:n[0]||(n[0]=n=>e.exit())},G)])])])}]])}}),U={class:"right-content"},V={class:"right-content-box"},Y={class:"subject-wrap"};const Z=t(s({setup(){const e=a({hasChild:null});return{...o(e)}},components:{LeftMenu:E,RightContent:t(Q,[["render",function(e,n,t,i,s,a){const c=g("Heads"),o=g("router-view");return l(),r("div",U,[f(c),u("div",V,[u("div",Y,[f(o)])])])}]])},watch:{$route(e,n){n.path!=e.path&&this.$router.go(0)}},methods:{selectMenuFunc(e){this.hasChild=e}}}),[["render",function(e,n,t,i,s,a){const c=g("LeftMenu"),o=g("RightContent");return l(),r("div",{class:m((e.hasChild,"main right-big"))},[f(c,{onSelectMenu:e.selectMenuFunc},null,8,["onSelectMenu"]),f(o)],2)}]]);export{Z as default};
