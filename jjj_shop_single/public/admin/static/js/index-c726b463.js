import{f as e,b as i,c as a,d as l,m as s,e as o}from"./element-plus-1acdbba0.js";import{r as m}from"./request-3f2f834b.js";import{_ as r}from"./index-3bb6f9e0.js";import{c as t,O as p,R as d,o as n,a as c,V as u,P as _,X as f}from"./@vue-5f6096d8.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-9798be2d.js";import"./dayjs-342c85a3.js";import"./call-bind-0966096f.js";import"./get-intrinsic-ccd8a43d.js";import"./has-symbols-456daba2.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-e5d54f4f.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./axios-85bcd05e.js";import"./qs-9a0be292.js";import"./side-channel-7d553c0c.js";import"./object-inspect-1e1e9601.js";import"./vue-router-0438cf31.js";import"./pinia-a7eba4b6.js";import"./vue-demi-71ba0ef2.js";let v={serviceDetail:(e,i)=>m._get("/admin/setting/index",e,i),editService:(e,i)=>m._post("/admin/setting/index",e,i)};const h={data:()=>({loading:!1,form:{weixin_service:{}}}),created(){this.getParams()},methods:{getParams(){let e=this;v.serviceDetail({},!0).then((i=>{e.form=i.data.vars.values,e.form.weixin_service.is_open=parseInt(e.form.weixin_service.is_open),e.loading=!1})).catch((i=>{e.loading=!1}))},onSubmit(){let i=this,a=this.form;i.$refs.form.validate((l=>{l&&(i.loading=!0,v.editService(a,!0).then((a=>{i.loading=!1,e({message:"恭喜你，设置成功",type:"success"}),i.$router.push("/setting/Index")})).catch((e=>{i.loading=!1})))}))}}},x={class:"product-add"},w=c("div",{class:"common-form"},"商城后台设置",-1),V=c("div",{class:"tips"}," shop端商城名称，显示在登录页 ",-1),j=c("div",{class:"tips"}," shop端商城登录背景，不填则为系统默认登录背景，填写网络地址 ",-1),g=c("div",{class:"common-form"},"微信服务商支付设置",-1),b=c("div",{class:"tips"}," 填写服务商户号、10位数字 ",-1),y=c("div",{class:"tips"}," 填写服务商户支付秘钥apikey ",-1),k=c("div",{class:"tips"}," 填写服务商户号绑定的公众号appid ",-1),U=c("div",{class:"tips"},"使用文本编辑器打开apiclient_key.pem文件，将文件的全部内容复制进来",-1),S=c("div",{class:"tips"},"使用文本编辑器打开apiclient_key.pem文件，将文件的全部内容复制进来",-1),q={class:"button-wrapper"};const P=r(h,[["render",function(e,m,r,v,h,P){const C=a,D=l,I=s,$=o,z=i;return n(),t("div",x,[p(z,{ref:"form",model:h.form,"label-width":"150px"},{default:d((()=>[w,p(D,{label:"商城系统名称",rules:[{required:!0,message:" "}],prop:"shop_name"},{default:d((()=>[p(C,{modelValue:h.form.shop_name,"onUpdate:modelValue":m[0]||(m[0]=e=>h.form.shop_name=e),placeholder:"商城名称",class:"max-w460"},null,8,["modelValue"]),V])),_:1}),p(D,{label:"商城登录背景",prop:"shop_bg_img"},{default:d((()=>[p(C,{modelValue:h.form.shop_bg_img,"onUpdate:modelValue":m[1]||(m[1]=e=>h.form.shop_bg_img=e),placeholder:"商城登录背景",class:"max-w460"},null,8,["modelValue"]),j])),_:1}),g,p(D,{label:"是否开启服务商支付"},{default:d((()=>[c("div",null,[p(I,{modelValue:h.form.weixin_service.is_open,"onUpdate:modelValue":m[2]||(m[2]=e=>h.form.weixin_service.is_open=e),label:1},{default:d((()=>[u("开启")])),_:1},8,["modelValue"]),p(I,{modelValue:h.form.weixin_service.is_open,"onUpdate:modelValue":m[3]||(m[3]=e=>h.form.weixin_service.is_open=e),label:0},{default:d((()=>[u("关闭")])),_:1},8,["modelValue"])])])),_:1}),1==h.form.weixin_service.is_open?(n(),t(_,{key:0},[p(D,{label:"服务商户号"},{default:d((()=>[p(C,{modelValue:h.form.weixin_service.mch_id,"onUpdate:modelValue":m[4]||(m[4]=e=>h.form.weixin_service.mch_id=e),placeholder:"服务商户号",class:"max-w460"},null,8,["modelValue"]),b])),_:1}),p(D,{label:"服务商支付秘钥apikey"},{default:d((()=>[p(C,{modelValue:h.form.weixin_service.apikey,"onUpdate:modelValue":m[5]||(m[5]=e=>h.form.weixin_service.apikey=e),placeholder:"服务商支付秘钥apikey",class:"max-w460"},null,8,["modelValue"]),y])),_:1}),p(D,{label:"服务商appid"},{default:d((()=>[p(C,{modelValue:h.form.weixin_service.app_id,"onUpdate:modelValue":m[6]||(m[6]=e=>h.form.weixin_service.app_id=e),placeholder:"服务商appid",class:"max-w460"},null,8,["modelValue"]),k])),_:1}),p(D,{label:"apiclient_cert.pem"},{default:d((()=>[p(C,{type:"textarea",rows:4,placeholder:"使用文本编辑器打开apiclient_cert.pem文件，将文件的全部内容复制进来",modelValue:h.form.weixin_service.cert_pem,"onUpdate:modelValue":m[7]||(m[7]=e=>h.form.weixin_service.cert_pem=e),class:"max-w460"},null,8,["modelValue"]),U])),_:1}),p(D,{label:"apiclient_key.pem"},{default:d((()=>[p(C,{type:"textarea",rows:4,placeholder:"使用文本编辑器打开apiclient_cert.pem文件，将文件的全部内容复制进来",modelValue:h.form.weixin_service.key_pem,"onUpdate:modelValue":m[8]||(m[8]=e=>h.form.weixin_service.key_pem=e),class:"max-w460"},null,8,["modelValue"]),S])),_:1})],64)):f("",!0),c("div",q,[p($,{type:"primary",onClick:P.onSubmit,loading:h.loading},{default:d((()=>[u("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"])])}]]);export{P as default};
