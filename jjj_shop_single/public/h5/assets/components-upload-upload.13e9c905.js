import{_ as e,ac as t,z as a,y as s,ad as o,A as i,o as n,c,g as u}from"./index-024cd044.js";const m=e({data:()=>({imageList:[]}),onLoad(){},props:["num"],mounted(){this.chooseImageFunc()},methods:{chooseImageFunc(){let e=this;t({count:e.$props.num||9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){e.uploadFile(t.tempFilePaths)},fail:function(t){e.$emit("getImgs",null)},complete:function(e){}})},uploadFile:function(e){let t=this,n=0,c=e.length,u={token:a("token"),app_id:t.getAppId()};s({title:"图片上传中"}),e.forEach((function(e,a){o({url:t.websiteUrl+"/index.php?s=/api/file.upload/image",filePath:e,name:"iFile",formData:u,success:function(e){let a="object"==typeof e.data?e.data:JSON.parse(e.data);1===a.code?t.imageList.push(a.data):t.showError(a.msg)},complete:function(){n++,c===n&&(i(),t.$emit("getImgs",t.imageList))}})}))}}},[["render",function(e,t,a,s,o,i){const m=u;return n(),c(m)}]]);export{m as default};
