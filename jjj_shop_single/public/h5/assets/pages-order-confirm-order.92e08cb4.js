import{_ as e,o as t,c as s,w as a,b as o,d,t as i,j as r,g as l,Z as c,a as u,n,f as _,F as p,r as f,e as m,S as y,s as h,J as g,k,I as b,h as x,v,q as O,u as D,y as C,M as w,z as A,$ as j,a0 as L,i as S}from"./index-024cd044.js";import{P}from"./uni-popup.95b83736.js";/* empty css                                                                  */const I=e({components:{Myinfo:e({data:()=>({}),props:["Address","exist_address","dis"],onLoad(){},mounted(){},methods:{addAddress(){if(this.dis)return;let e="/pages/user/address/address?source=order";this.exist_address||(e="/pages/user/address/add/add?delta=1"),this.gotoPage(e)}}},[["render",function(e,c,u,n,_,p){const f=r,m=l;return t(),s(m,{class:"my_info br6"},{default:a((()=>[null==u.Address?(t(),s(m,{key:0,class:"add-address d-s-c",onClick:c[0]||(c[0]=e=>p.addAddress())},{default:a((()=>[o(m,{class:"icon-box mr10"},{default:a((()=>[o(f,{class:"icon iconfont icon-dizhi1"})])),_:1}),o(f,null,{default:a((()=>[d("请添加收货地址")])),_:1})])),_:1})):(t(),s(m,{key:1,class:"address-defalut-wrap",onClick:c[1]||(c[1]=e=>p.addAddress())},{default:a((()=>[o(m,{class:"d-b-c"},{default:a((()=>[o(m,{class:"add-addr flex-1"},{default:a((()=>[o(m,{class:"icon-box mr10 f-s-0"},{default:a((()=>[o(f,{class:"icon iconfont icon-dizhi1"})])),_:1}),o(m,{class:"flex-1"},{default:a((()=>[o(m,{class:"info mb10"},{default:a((()=>[o(f,{class:"province-c-a f28 fb text-ellipsis-2"},{default:a((()=>[d(i(u.Address.region.province)+i(u.Address.region.city)+" "+i(u.Address.region.region)+i(u.Address.detail),1)])),_:1})])),_:1}),o(m,{class:"gray9 f22"},{default:a((()=>[o(f,null,{default:a((()=>[d(i(u.Address.name)+i(u.Address.phone),1)])),_:1})])),_:1})])),_:1})])),_:1}),o(m,{class:"icon iconfont icon-jiantou ml80 f-s-0"})])),_:1})])),_:1}))])),_:1})}],["__scopeId","data-v-fba083cb"]]),Storeinfo:e({data:()=>({isAddress:!1,store_id:0,isRevise:!1,linkman:"",phone:""}),components:{Adress:e({data:()=>({listData:[],isLoading:!0,storeList:[],longitude:"",latitude:"",selectedId:-1,Visible:!1,url:""}),props:["isAddress","store_id"],watch:{isAddress(e){this.Visible=e,e&&(this.isWeixin()&&(this.url=window.location.href),this.selectedId=this.$props.store_id,this.getData(!0),this.isWeixin()||this.getLocation())}},methods:{onAuthorize(){let e=this;uni.openSetting({success(t){t.authSetting["scope.userLocation"]&&(console.log("授权成功"),e.isAuthor=!0,setTimeout((()=>{e.getLocation((e=>{}))}),1e3))}})},getLocation(e){let t=this;c({type:"wgs84",success(e){t.longitude=e.longitude,t.latitude=e.latitude,t.getData(!1)},fail(){u({title:"获取定位失败，请点击右下角按钮打开定位权限",duration:2e3,icon:"none"}),t.isAuthor=!1}})},getWxLocation(e,t){let s=this;var a=require("jweixin-module");a.config(JSON.parse(e)),a.ready((function(e){a.getLocation({type:"wgs84",success:function(e){s.longitude=e.longitude,s.latitude=e.latitude,s.getData(!1)}})})),a.error((function(e){console.log(e)}))},getData(e){let t=this;t.isLoading=!0,t._get("store.store/lists",{longitude:t.longitude,latitude:t.latitude,url:t.url},(function(s){t.isLoading=!1,t.storeList=s.data.list,e&&t.isWeixin()&&t.getWxLocation(s.data.signPackage)}))},closepop(){this.$emit("close")},onSelectedStore(e){this.selectedId=e,this.$fire.fire("selectStoreId",e),this.$emit("close")}}},[["render",function(e,c,u,h,g,k){const b=r,x=l,v=y;return g.Visible?(t(),s(x,{key:0,class:n(["pop_bg",e.theme()||""]),onClick:k.closepop,"data-theme":e.theme()},{default:a((()=>[o(x,{class:n(g.Visible?"address-distr_open":"address-distr_close")},{default:a((()=>[o(x,{class:"address-list bg-white"},{default:a((()=>[o(v,{"scroll-y":"true",class:"specs mt20",style:{"max-height":"850rpx"}},{default:a((()=>[(t(!0),_(p,null,f(g.storeList,((e,r)=>(t(),s(x,{class:"p20 address-item",key:r},{default:a((()=>[o(x,{class:n(["address d-s-c",e.store_id==g.selectedId?"active":""])},{default:a((()=>[o(x,{class:"info flex-1",onClick:t=>k.onSelectedStore(e)},{default:a((()=>[o(x,{class:"user f34"},{default:a((()=>[o(b,null,{default:a((()=>[d(i(e.store_name),1)])),_:2},1024)])),_:2},1024),o(x,{class:"pt10 user f30 gray6"},{default:a((()=>[o(b,null,{default:a((()=>[d(i(e.phone),1)])),_:2},1024)])),_:2},1024),o(x,{class:"pt10 f24 gray6"},{default:a((()=>[o(b,null,{default:a((()=>[d(i(e.region.province)+i(e.region.city)+i(e.region.region)+i(e.address),1)])),_:2},1024)])),_:2},1024),o(x,null,{default:a((()=>[o(b,{class:"iconfont icon-dingwei"}),o(b,null,{default:a((()=>[d(i(e.distance_unit),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1032,["class"])])),_:2},1024)))),128))])),_:1}),g.isLoading||g.storeList.length?m("",!0):(t(),s(x,{key:0},{default:a((()=>[o(x,{class:"yoshop-notcont"},{default:a((()=>[o(b,{class:"iconfont icon-wushuju"}),o(b,{class:"cont"},{default:a((()=>[d("亲，暂无自提门店哦")])),_:1})])),_:1})])),_:1}))])),_:1})])),_:1},8,["class"])])),_:1},8,["onClick","data-theme","class"])):m("",!0)}],["__scopeId","data-v-415b04fb"]]),uniPopup:P},props:["extract_store","last_extract"],onLoad(){},mounted(){},methods:{addAddress(){let e=-1;this.extract_store&&this.extract_store.store_id&&(e=this.extract_store.store_id),this.store_id=e,this.isAddress=!0},closeAdress(){this.isAddress=!1},revise(){let e={linkman:this.last_extract.linkman,phone:this.last_extract.phone};h("extract",e),this.$fire.fire("extract",e),this.isRevise=!1},hidePopupFunc(){this.isRevise=!1}}},[["render",function(e,c,u,n,_,p){const f=r,y=l,h=k("Adress"),v=b,O=x,D=k("uniPopup");return t(),s(y,{style:{flex:"1"},class:"br6 mt16"},{default:a((()=>[o(y,{class:"bg-white"},{default:a((()=>[o(y,{class:"d-b-c m-0-20 border-b-d9 p-20-0",onClick:c[0]||(c[0]=e=>_.isRevise=!0)},{default:a((()=>[""==u.last_extract.linkman&&""==u.last_extract.phone?(t(),s(y,{key:0,class:"d-s-c"},{default:a((()=>[o(y,{class:"icon-box mr10 linkmen_add"},{default:a((()=>[o(f,{class:"icon iconfont icon-jia"})])),_:1}),o(y,null,{default:a((()=>[d("添加提货人信息")])),_:1})])),_:1})):(t(),s(y,{key:1,class:"flex-1 d-b-c ww100"},{default:a((()=>[o(y,{class:"flex-1"},{default:a((()=>[d("提货人："+i(u.last_extract.linkman)+" ",1),o(f,{class:"ml10"},{default:a((()=>[d(i(u.last_extract.phone),1)])),_:1})])),_:1}),o(y,{class:"icon-box"},{default:a((()=>[o(y,{class:"d-c-c"},{default:a((()=>[o(y,{class:"gray9 f26"},{default:a((()=>[d("修改")])),_:1}),o(y,{class:"icon iconfont icon-jiantou"})])),_:1})])),_:1})])),_:1}))])),_:1})])),_:1}),u.extract_store&&u.extract_store.store_id?m("",!0):(t(),s(y,{key:0,class:"d-b-c pr20 bg-white",onClick:c[1]||(c[1]=e=>p.addAddress())},{default:a((()=>[o(y,{class:"add-address d-s-c"},{default:a((()=>[o(y,{class:"icon-box mr10"},{default:a((()=>[o(f,{class:"icon iconfont icon-dizhi1"})])),_:1}),o(f,null,{default:a((()=>[d("请选择自提点")])),_:1})])),_:1})])),_:1})),u.extract_store&&u.extract_store.store_id?(t(),s(y,{key:1,class:"d-b-c pr20 bg-white",onClick:c[2]||(c[2]=e=>p.addAddress())},{default:a((()=>[o(y,{class:"address-defalut-wrap"},{default:a((()=>[o(y,{class:"info d-s-s"},{default:a((()=>[o(f,{class:"state"},{default:a((()=>[d("当前自提点")])),_:1}),o(y,{class:"province-c-a d-s-s flex-1"},{default:a((()=>[o(f,null,{default:a((()=>[d(i(u.extract_store.region.province),1)])),_:1}),o(f,null,{default:a((()=>[d(i(u.extract_store.region.city),1)])),_:1}),o(f,null,{default:a((()=>[d(i(u.extract_store.region.region),1)])),_:1})])),_:1})])),_:1}),o(y,{class:"address"},{default:a((()=>[o(f,{class:"fb gray3"},{default:a((()=>[d(i(u.extract_store.store_name),1)])),_:1}),o(y,{class:"icon-box"})])),_:1}),o(y,{class:"user"},{default:a((()=>[o(f,{class:"name"},{default:a((()=>[d(i(u.extract_store.address),1)])),_:1}),o(f,{class:"tel"},{default:a((()=>[d(i(u.extract_store.phone),1)])),_:1})])),_:1})])),_:1}),o(y,null,{default:a((()=>[g("i",{class:"iconfont icon-jiantou"})])),_:1})])),_:1})):m("",!0),o(h,{isAddress:_.isAddress,store_id:_.store_id,onClose:p.closeAdress},null,8,["isAddress","store_id","onClose"]),o(D,{show:_.isRevise,type:"middle",onHidePopup:p.hidePopupFunc},{default:a((()=>[o(y,{class:"ww100"},{default:a((()=>[o(y,{class:"t-c f36 pb20"},{default:a((()=>[d("添加提货人")])),_:1}),o(y,{class:"d-s-c p-30-0 border-b-d9 border-t-d9 f32"},{default:a((()=>[d("提货人 :"),o(v,{type:"text",placeholder:"提货人姓名",modelValue:u.last_extract.linkman,"onUpdate:modelValue":c[3]||(c[3]=e=>u.last_extract.linkman=e)},null,8,["modelValue"])])),_:1}),o(y,{class:"d-s-c p-30-0 border-b-d9 f32"},{default:a((()=>[d("手机号:"),o(v,{type:"number",placeholder:"提货人手机号",modelValue:u.last_extract.phone,"onUpdate:modelValue":c[4]||(c[4]=e=>u.last_extract.phone=e)},null,8,["modelValue"])])),_:1}),o(O,{class:"revise_btn",onClick:p.revise},{default:a((()=>[d("保存")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["show","onHidePopup"])])),_:1})}],["__scopeId","data-v-16f98070"]]),Coupon:e({data:()=>({phoneHeight:0,scrollviewHigh:0,Visible:!1,datalist:{},ratio:1}),props:["isCoupon","couponList"],onLoad(){},mounted(){this.init()},watch:{isCoupon:function(e,t){e!=t&&(this.Visible=e,this.datalist=this.couponList,this.getHeight())}},methods:{init(){let e=this;v({success(t){e.phoneHeight=t.windowHeight,e.ratio=t.windowWidth/750,e.getHeight()}})},getHeight(){let e=Object.keys(this.couponList).length;e>2?this.scrollviewHigh=.6*this.phoneHeight:1==e?this.scrollviewHigh=230*this.ratio:2==e&&(this.scrollviewHigh=460*this.ratio)},selectCoupon(e){this.closePopup(e)},closePopup(e){this.$emit("close",e)}}},[["render",function(e,c,u,h,g,k){const b=l,v=r,C=y,w=x;return t(),s(b,{class:n(g.Visible?"usable-coupon open":"usable-coupon close")},{default:a((()=>[o(b,{class:"popup-bg",onClick:c[0]||(c[0]=e=>k.closePopup(null))}),o(b,{class:"main pt30",onClick:c[2]||(c[2]=D((()=>{}),["stop"]))},{default:a((()=>[o(C,{"scroll-y":"true",class:"scroll-Y",style:O("height:"+g.scrollviewHigh+"px;")},{default:a((()=>[o(b,{class:"p-0-30"},{default:a((()=>[(t(!0),_(p,null,f(g.datalist,((e,r)=>(t(),s(b,{onClick:t=>k.selectCoupon(e.user_coupon_id),style:{"margin-bottom":"15rpx"},class:n("coupon-item coupon-item-"+e.color.text),key:r},{default:a((()=>[o(b,{class:"circles"},{default:a((()=>[(t(),_(p,null,f(6,((e,t)=>o(v,{key:t}))),64))])),_:1}),o(b,{class:"info w100"},{default:a((()=>[o(b,{class:"d-c-c d-c"},{default:a((()=>[o(v,{class:"f40 fb w-s-n"},{default:a((()=>[d(i(e.coupon_type.text),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),o(b,{class:"operation d-b-c w-b pr"},{default:a((()=>[o(b,{class:"flex-1 o-h"},{default:a((()=>[o(b,{class:"f34"},{default:a((()=>[10==e.coupon_type.value?(t(),s(v,{key:0,class:"f40"},{default:a((()=>[d("减"+i(1*e.reduce_price)+"元",1)])),_:2},1024)):m("",!0),20==e.coupon_type.value?(t(),_(p,{key:1},[o(v,{class:"f40"},{default:a((()=>[d(i(e.discount),1)])),_:2},1024),o(v,{class:"f24"},{default:a((()=>[d("折")])),_:1})],64)):m("",!0)])),_:2},1024),o(b,{class:"f24"},{default:a((()=>[d(i(e.min_price>0?"满"+1*e.min_price+"元可用":"无门槛"),1)])),_:2},1024),o(b,{class:"mt30 f24 white"},{default:a((()=>[d(i(e.start_time.text)+"~"+i(e.end_time.text),1)])),_:2},1024)])),_:2},1024),o(b,{class:"f30 mr20 b-radio",style:{position:"absolute",right:"0"}},{default:a((()=>[d(" 立即使用 ")])),_:1})])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1},8,["style"]),o(b,{class:"coupon-btns"},{default:a((()=>[o(w,{type:"default",onClick:c[1]||(c[1]=e=>k.closePopup(0)),class:"btn-cancel"},{default:a((()=>[d("不使用优惠券")])),_:1})])),_:1})])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-fea2c989"]])},data:()=>({loading:!0,options:{},indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,tab_type:0,product_id:"",product_num:"",ProductData:[],OrderData:[],exist_address:!1,Address:{region:[]},extract_store:[],last_extract:{},product_sku_id:0,delivery:0,store_id:0,coupon_id:0,is_use_points:1,linkman:"",phone:"",remark:"",pay_type:20,isCoupon:!1,coupon_list:{},couponList:[],deliverySetting:[],coupon_num:0,temlIds:[],isCheckout:!1,order_id:0,order_type:""}),onLoad(e){let t=this;t.options=e,t.$fire.on("selectStoreId",(function(e){t.store_id=e,t.extract_store=e})),t.$fire.on("extract",(function(e){t.last_extract=e}))},onShow(){this.getData()},methods:{hasType(e){return-1!=this.deliverySetting.indexOf(e+"")},onShowPoints:function(e){let t=this;1==e.detail.value?t.is_use_points=1:t.is_use_points=0,t.getData()},onTogglePopupCoupon(e){this.isCoupon=!0,this.couponList=e},closeCouponFunc(e){if(this.isCoupon=!1,null==e)return;this.coupon_id=e,this.getData()},getData(){let e=this;C({title:"加载中"});let t=function(t){e.OrderData=t.data.orderInfo,e.temlIds=t.data.template_arr,e.exist_address=e.OrderData.exist_address,e.Address=e.OrderData.address,e.extract_store=e.OrderData.extract_store,e.last_extract=A("extract"),e.last_extract||(e.last_extract=e.OrderData.last_extract),e.ProductData=e.OrderData.product_list,e.OrderData.coupon_list&&(e.coupon_list=e.OrderData.coupon_list,e.coupon_num=Object.keys(e.coupon_list).length),"20"==e.OrderData.delivery&&(e.tab_type=1),e.deliverySetting=e.OrderData.deliverySetting,0==e.OrderData.order_pay_price&&(e.pay_type=10),e.loading=!1},s={delivery:e.delivery,store_id:e.store_id,coupon_id:e.coupon_id,is_use_points:e.is_use_points,pay_source:e.getPlatform()};"buy"===e.options.order_type&&e._get("order.order/buy",Object.assign({},s,{product_id:e.options.product_id,product_num:e.options.product_num,product_sku_id:e.options.product_sku_id}),(function(e){t(e)}),(e=>{w()})),"deposit"===e.options.order_type&&e._get("plus.advance.Order/frontBuy",Object.assign({},s,{product_id:e.options.product_id,product_num:e.options.product_num,product_sku_id:e.options.product_sku_id,advance_product_sku_id:e.options.advance_product_sku_id,advance_product_id:e.options.advance_product_id}),(function(e){t(e)}),(e=>{w()})),"retainage"===e.options.order_type?e._get("plus.advance.Order/buy",Object.assign({},s,{order_id:e.options.order_id}),(function(e){t(e)}),(e=>{w()})):"cart"===e.options.order_type?(console.log(e.options.cart_ids),e._get("order.order/cart",Object.assign({},s,{cart_ids:e.options.cart_ids||0}),(function(e){t(e)}),(e=>{w()}))):"points"==e.options.order_type?e._get("plus.points.order/buy",Object.assign({},s,{point_product_id:e.options.point_product_id,product_sku_id:e.options.product_sku_id,point_product_sku_id:e.options.point_product_sku_id,product_num:e.options.product_num}),(function(e){t(e)}),(e=>{w()})):"seckill"===e.options.order_type?(s.num=e.options.num,e._get("plus.seckill.order/buy",Object.assign({},s,{seckill_product_id:e.options.seckill_product_id,product_sku_id:e.options.product_sku_id,seckill_product_sku_id:e.options.seckill_product_sku_id,product_num:e.options.product_num}),(function(e){t(e)}),(e=>{w()}))):"bargain"===e.options.order_type?e._get("plus.bargain.order/buy",Object.assign({},s,{bargain_product_id:e.options.bargain_product_id,product_sku_id:e.options.product_sku_id,bargain_product_sku_id:e.options.bargain_product_sku_id,bargain_task_id:e.options.bargain_task_id}),(function(e){t(e)}),(e=>{w()})):"assemble"===e.options.order_type&&e._get("plus.assemble.order/buy",Object.assign({},s,{assemble_product_id:e.options.assemble_product_id,product_sku_id:e.options.product_sku_id,assemble_product_sku_id:e.options.assemble_product_sku_id,product_num:e.options.product_num,assemble_bill_id:e.options.assemble_bill_id}),(function(e){t(e)}),(e=>{w()}))},tabFunc(e){"retainage"!=this.options.order_type&&(this.tab_type=e,this.delivery=0==e?10:20,this.getData())},SubmitOrder(){console.log("订阅消息");let e=this;C({title:"加载中",mask:!0});let t=e.last_extract.linkman,s=e.last_extract.phone,a={delivery:e.delivery,store_id:e.store_id.store_id||0,coupon_id:e.coupon_id,is_use_points:e.is_use_points,phone:s,linkman:t,remark:e.remark},o="";"buy"===e.options.order_type&&(o="order.order/buy",a=Object.assign(a,{product_id:e.options.product_id,product_num:e.options.product_num,product_sku_id:e.options.product_sku_id})),"deposit"===e.options.order_type&&(o="plus.advance.Order/frontBuy",a=Object.assign(a,{product_id:e.options.product_id,product_num:e.options.product_num,product_sku_id:e.options.product_sku_id,advance_product_sku_id:e.options.advance_product_sku_id,advance_product_id:e.options.advance_product_id})),"retainage"===e.options.order_type&&(o="plus.advance.Order/buy",a=Object.assign(a,{order_id:e.options.order_id})),"cart"===e.options.order_type&&(o="order.order/cart",a=Object.assign(a,{cart_ids:e.options.cart_ids||0})),"points"===e.options.order_type&&(o="plus.points.order/buy",a=Object.assign(a,{point_product_id:e.options.point_product_id,product_sku_id:e.options.product_sku_id,point_product_sku_id:e.options.point_product_sku_id,product_num:e.options.product_num})),"seckill"===e.options.order_type&&(o="plus.seckill.order/buy",a.num=e.options.num,a=Object.assign(a,{seckill_product_id:e.options.seckill_product_id,product_sku_id:e.options.product_sku_id,seckill_product_sku_id:e.options.seckill_product_sku_id,product_num:e.options.product_num})),"bargain"===e.options.order_type&&(o="plus.bargain.order/buy",a=Object.assign(a,{bargain_product_id:e.options.bargain_product_id,product_sku_id:e.options.product_sku_id,bargain_product_sku_id:e.options.bargain_product_sku_id,bargain_task_id:e.options.bargain_task_id})),"assemble"===e.options.order_type&&(o="plus.assemble.order/buy",a=Object.assign(a,{assemble_product_id:e.options.assemble_product_id,product_sku_id:e.options.product_sku_id,assemble_product_sku_id:e.options.assemble_product_sku_id,assemble_bill_id:e.options.assemble_bill_id,product_num:e.options.product_num}));e.subMessage(e.temlIds,(function(){e._post(o,a,(function(t){let s="/pages/order/cashier?order_id="+t.data.order_id;"deposit"==e.options.order_type&&(s="/pages/order/cashier?order_type=40&order_id="+t.data.order_id),e.gotoPage(s,"reLaunch")}))}))},toDecimal2(e){var t=parseFloat(e);if(isNaN(t))return"0.00";t=Math.round(100*e);var s=Math.round(1e3*e).toString().split("");(s=s[s.length-1])>=5?t=(t-1)/100:t/=100;var a=t.toString(),o=a.indexOf(".");for(o<0&&(o=a.length,a+=".");a.length<=o+2;)a+="0";return a},closeCheckoutFunc(){this.isCheckout=!1}}},[["render",function(e,c,u,y,h,g){const b=l,v=k("Myinfo"),O=k("Storeinfo"),D=S,C=r,w=j,A=L,P=x,I=k("Coupon");return h.loading?m("",!0):(t(),s(b,{key:0,class:n(["wrap",e.theme()||""]),"data-theme":e.theme()},{default:a((()=>[30!=h.OrderData.delivery?(t(),s(b,{key:0,class:"top-tabbar"},{default:a((()=>[g.hasType(10)?(t(),s(b,{key:0,class:n(0==h.tab_type?"tab-item active":"tab-item"),onClick:c[0]||(c[0]=e=>g.tabFunc(0))},{default:a((()=>[d("快递配送")])),_:1},8,["class"])):m("",!0),g.hasType(20)?(t(),s(b,{key:1,class:n(1==h.tab_type?"tab-item active":"tab-item"),onClick:c[1]||(c[1]=e=>g.tabFunc(1))},{default:a((()=>[d("上门自提")])),_:1},8,["class"])):m("",!0)])),_:1})):m("",!0),o(b,{class:"p-0-23"},{default:a((()=>[0==h.tab_type&&30!=h.OrderData.delivery?(t(),s(v,{key:0,dis:"retainage"==h.options.order_type,Address:h.Address,exist_address:h.exist_address},null,8,["dis","Address","exist_address"])):m("",!0),1==h.tab_type&&30!=h.OrderData.delivery?(t(),s(O,{key:1,ref:"getShopinfoData",extract_store:h.extract_store,last_extract:h.last_extract},null,8,["extract_store","last_extract"])):m("",!0),o(b,{class:"vender br6"},{default:a((()=>[o(b,{class:"list"},{default:a((()=>[o(b,{class:"d-b-c f24 fb mb30 top-title"},{default:a((()=>[o(b,null,{default:a((()=>[d("商品信息")])),_:1}),o(b,null,{default:a((()=>[d("共"+i(h.OrderData.order_total_num)+"件",1)])),_:1})])),_:1}),(t(!0),_(p,null,f(h.ProductData,((e,r)=>(t(),s(b,{class:"item",key:r},{default:a((()=>[o(b,{class:"d-f"},{default:a((()=>[o(b,{class:"cover"},{default:a((()=>[o(D,{src:e.product_image,mode:"aspectFit"},null,8,["src"])])),_:2},1024),o(b,{class:"info"},{default:a((()=>[o(b,{class:"d-b-s"},{default:a((()=>[o(b,{class:"flex-1"},{default:a((()=>[o(b,{class:"title f32 gray3"},{default:a((()=>[d(i(e.product_name),1)])),_:2},1024),o(b,{class:"theme-price mt10 f18"},{default:a((()=>[d(" ¥"),o(C,{class:"f26"},{default:a((()=>[d(i(e.product_price),1)])),_:2},1024)])),_:2},1024),"deposit"==h.options.order_type?(t(),s(b,{key:0,class:"describe mt10 f24"},{default:a((()=>[d(i(e.advance_sku.product_attr),1)])),_:2},1024)):"retainage"==h.options.order_type?(t(),s(b,{key:1,class:"describe mt10 f24"},{default:a((()=>[d(i(e.product_attr),1)])),_:2},1024)):(t(),s(b,{key:2,class:"describe mt10 f24"},{default:a((()=>[d(i(e.product_sku.product_attr),1)])),_:2},1024))])),_:2},1024),o(b,null,{default:a((()=>[o(b,{class:"count_choose"},{default:a((()=>[o(b,{class:"num-wrap"},{default:a((()=>[o(b,{class:"f22 tr"},{default:a((()=>[d("×"+i(e.total_num),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),1==e.is_user_grade?(t(),s(b,{key:0,class:"mt10 tr f28"},{default:a((()=>[o(C,{class:"f26"},{default:a((()=>[d("会员折扣价：")])),_:1}),o(C,{class:"theme-price f32"},{default:a((()=>[d("￥"+i(e.grade_product_price),1)])),_:2},1024)])),_:2},1024)):m("",!0),e.product_reduce_money>0?(t(),s(b,{key:1,class:"mt10 tr f28"},{default:a((()=>[o(C,{class:"f26"},{default:a((()=>[d("立减：")])),_:1}),o(C,{class:"theme-price f32"},{default:a((()=>[d("￥"+i(e.product_reduce_money),1)])),_:2},1024)])),_:2},1024)):m("",!0)])),_:2},1024)))),128))])),_:1})])),_:1}),o(b,{class:"buy-checkout br6"},{default:a((()=>["deposit"==h.options.order_type?(t(),_(p,{key:0},[o(b,{class:"item"},{default:a((()=>[o(C,{class:"key f26"},{default:a((()=>[d("定金：")])),_:1}),o(b,{class:"f24"},{default:a((()=>[d("￥"+i(h.OrderData.order_total_front_price),1)])),_:1})])),_:1}),o(b,{class:"item"},{default:a((()=>[o(C,{class:"key f26"},{default:a((()=>[d("尾款：")])),_:1}),o(b,{class:"f24"},{default:a((()=>[d("￥"+i(h.OrderData.order_total_pay_price),1)])),_:1})])),_:1}),o(b,{class:"item f-d-c"},{default:a((()=>[o(b,{class:"ww100 d-e-c redF11"},{default:a((()=>[d(" (单件商品尾款已减"+i(h.OrderData.product_list[0].advance_sku.advance_price)+"元) ",1)])),_:1}),o(b,{class:"ww100 d-e-c gray9"},{default:a((()=>[d(i(h.OrderData.product_list[0].advance.active_time[0])+"-"+i(h.OrderData.product_list[0].advance.active_time[1])+"支付尾款 ",1)])),_:1})])),_:1})],64)):(t(),_(p,{key:1},[o(b,{class:"item"},{default:a((()=>[o(C,{class:"key f26"},{default:a((()=>[d("商品金额：")])),_:1}),o(b,{class:"f24"},{default:a((()=>[d("￥"+i(h.OrderData.order_total_price),1)])),_:1})])),_:1}),o(b,{class:"item"},{default:a((()=>[o(C,{class:"key"},{default:a((()=>[d("配送费用：")])),_:1}),o(b,null,{default:a((()=>[o(C,{class:"f24"},{default:a((()=>[d("￥"+i(h.OrderData.express_price),1)])),_:1})])),_:1})])),_:1}),h.OrderData.is_coupon?(t(),s(b,{key:0,class:"item"},{default:a((()=>[o(C,{class:"key"},{default:a((()=>[d("优惠券：")])),_:1}),h.coupon_num>0?(t(),_(p,{key:0},[h.OrderData.coupon_id>0?(t(),s(b,{key:0,class:"f24 theme-price",onClick:c[2]||(c[2]=e=>g.onTogglePopupCoupon(h.coupon_list))},{default:a((()=>[d("-￥"+i(h.OrderData.coupon_money),1)])),_:1})):(t(),s(b,{key:1,class:"hascoupon",onClick:c[3]||(c[3]=e=>g.onTogglePopupCoupon(h.coupon_list))},{default:a((()=>[d(i(h.coupon_num)+"张可用",1),o(C,{class:"icon iconfont icon-jiantou"})])),_:1}))],64)):(t(),s(C,{key:1,class:"f24 gray9"},{default:a((()=>[d("无优惠券可用")])),_:1}))])),_:1})):m("",!0),h.OrderData.product_reduce_money>0?(t(),s(b,{key:1,class:"item"},{default:a((()=>[o(C,{class:"key"},{default:a((()=>[d("商品立减：")])),_:1}),o(b,null,{default:a((()=>[o(C,{class:"theme-price f24"},{default:a((()=>[d("-￥"+i(h.OrderData.product_reduce_money),1)])),_:1})])),_:1})])),_:1})):m("",!0),h.OrderData.reduce?(t(),s(b,{key:2,class:"item"},{default:a((()=>[o(C,{class:"key"},{default:a((()=>[d("满减("+i(h.OrderData.reduce.active_name)+")：",1)])),_:1}),o(b,null,{default:a((()=>[o(C,{class:"theme-price f24"},{default:a((()=>[d("-￥"+i(h.OrderData.reduce.reduced_price),1)])),_:1})])),_:1})])),_:1})):m("",!0),h.OrderData.reduce_money?(t(),s(b,{key:3,class:"item"},{default:a((()=>[o(C,{class:"key"},{default:a((()=>[d("尾款抵扣：")])),_:1}),o(b,null,{default:a((()=>[o(C,{class:"theme-price f24"},{default:a((()=>[d("-￥"+i(h.OrderData.reduce_money),1)])),_:1})])),_:1})])),_:1})):m("",!0),h.OrderData.is_allow_points&&0==h.OrderData.force_points&&h.OrderData.points_money>0?(t(),s(b,{key:4,class:"item"},{default:a((()=>[o(C,{class:"key"},{default:a((()=>[d("可用"+i(e.points_name())+"抵扣：",1)])),_:1}),o(b,{class:""},{default:a((()=>[o(C,{class:"price"},{default:a((()=>[d("-￥"+i(h.OrderData.points_money),1)])),_:1}),o(w,{checked:h.is_use_points,style:{transform:"scale(0.7)","margin-right":"-10rpx"},onChange:g.onShowPoints},null,8,["checked","onChange"])])),_:1})])),_:1})):m("",!0)],64)),o(b,{class:"item"},{default:a((()=>[o(b,{class:"border-t-d9 d-e-c p-30-0 ww100"},{default:a((()=>[o(C,{class:"key f24"},{default:a((()=>[d("小计：")])),_:1}),"deposit"==h.options.order_type?(t(),s(b,{key:0,class:"f38 fb"},{default:a((()=>[o(C,{class:"f24"},{default:a((()=>[d("￥")])),_:1}),d(i(g.toDecimal2(h.OrderData.order_total_front_price)),1)])),_:1})):(t(),s(b,{key:1,class:"f38 fb"},{default:a((()=>[o(C,{class:"f24"},{default:a((()=>[d("￥")])),_:1}),d(i(g.toDecimal2(h.OrderData.order_pay_price)),1)])),_:1}))])),_:1})])),_:1})])),_:1}),"deposit"!=h.options.order_type?(t(),s(b,{key:2,class:"buyer-message uni-textarea"},{default:a((()=>[o(A,{class:"textarea",modelValue:h.remark,"onUpdate:modelValue":c[4]||(c[4]=e=>h.remark=e),"placeholder-style":"color:#cccccc;",placeholder:"选项:买家留言"},null,8,["modelValue"])])),_:1})):m("",!0)])),_:1}),o(b,{class:"foot-pay-btns"},{default:a((()=>["deposit"==h.options.order_type?(t(),s(b,{key:0},{default:a((()=>[d(" 应付 "),o(C,{class:"fb theme-price"},{default:a((()=>[d("¥")])),_:1}),o(C,{class:"num theme-price fb f38"},{default:a((()=>[d(i(h.OrderData.order_total_front_price),1)])),_:1})])),_:1})):(t(),_(p,{key:1},[h.OrderData.force_points?m("",!0):(t(),s(b,{key:0},{default:a((()=>[d(" 应付 "),o(C,{class:"fb theme-price"},{default:a((()=>[d("¥")])),_:1}),o(C,{class:"num theme-price fb f38"},{default:a((()=>[d(i(h.OrderData.order_pay_price),1)])),_:1})])),_:1})),h.OrderData.force_points?(t(),s(b,{key:1,class:"price"},{default:a((()=>[o(C,{class:"gray9"},{default:a((()=>[d("所需"+i(e.points_name()),1)])),_:1}),o(C,{class:"num theme-price fb"},{default:a((()=>[d(i(h.OrderData.points_num),1)])),_:1}),h.OrderData.order_pay_price>0?(t(),_(p,{key:0},[o(C,{class:"theme-price"},{default:a((()=>[d("+")])),_:1}),o(C,{class:"theme-price"},{default:a((()=>[d("¥")])),_:1}),o(C,{class:"num fb theme-price"},{default:a((()=>[d(i(h.OrderData.order_pay_price),1)])),_:1})],64)):m("",!0)])),_:1})):m("",!0)],64)),o(P,{onClick:g.SubmitOrder},{default:a((()=>[d("提交订单")])),_:1},8,["onClick"])])),_:1}),o(I,{isCoupon:h.isCoupon,couponList:h.couponList,onClose:g.closeCouponFunc},null,8,["isCoupon","couponList","onClose"])])),_:1},8,["data-theme","class"]))}],["__scopeId","data-v-e202fadd"]]);export{I as default};
