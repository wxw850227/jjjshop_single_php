import{_ as s,L as e,K as a,y as t,M as n,A as o,o as i,c as l,w as d,g as c,b as r,d as u,h as _}from"./index-024cd044.js";const g=s({data:()=>({background:"",listData:[],sessionKey:""}),onLoad(){let s=this;e({success(e){s._post("user.user/getSession",{code:e.code},(e=>{s.sessionKey=e.data.session_key}))}})},methods:{onNotLogin:function(){a({url:"/pages/index/index"})},getPhoneNumber(s){if("getPhoneNumber:ok"!==s.detail.errMsg)return!1;t({title:"正在处理",mask:!0}),this._post("user.user/bindMobile",{session_key:this.sessionKey,encrypted_data:s.detail.encryptedData,iv:s.detail.iv},(s=>{n()}),!1,(()=>{o()}))}}},[["render",function(s,e,a,t,n,o){const g=c,f=_;return i(),l(g,{class:"login-container"},{default:d((()=>[r(g,{class:"wechatapp"},{default:d((()=>[r(g,{class:"header"})])),_:1}),r(g,{class:"auth-title"},{default:d((()=>[u("申请获取以下权限")])),_:1}),r(g,{class:"auth-subtitle"},{default:d((()=>[u("为了为您提供更优质的服务，我们需要获得你的手机号")])),_:1}),r(g,{class:"login-btn"}),r(g,{class:"no-login-btn"},{default:d((()=>[r(f,{class:"btn-normal",onClick:o.onNotLogin},{default:d((()=>[u("暂不授权")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-740aac43"]]);export{g as default};
