import{_ as e,o as a,f as t,J as i,n as s,q as l,b as c,w as r,F as h,r as u,a5 as p,a6 as k,t as n}from"./index-024cd044.js";const o=e({data:()=>({pickerValue:[0,0,0],provinceDataList:[],cityDataList:[],areaDataList:[],showPicker:!1,provinceData:[],cityData:[],areaData:[]}),created(){this.init()},props:{pickerValueDefault:{type:Array,default:()=>[0,0,0]},themeColor:String,province:{type:Array},city:{type:Array},area:{type:Array}},watch:{pickerValueDefault(){this.init()}},methods:{init(){this.provinceData=this.province,this.cityData=this.city,this.areaData=this.area,this.handPickValueDefault(),this.provinceDataList=this.provinceData,this.cityDataList=this.cityData[this.pickerValueDefault[0]],this.areaDataList=this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]],this.pickerValue=this.pickerValueDefault},show(){setTimeout((()=>{this.showPicker=!0}),0)},maskClick(){},pickerCancel(){this.showPicker=!1,this._$emit("onCancel")},pickerConfirm(e){this.showPicker=!1,this._$emit("onConfirm")},showPickerView(){this.showPicker=!0},handPickValueDefault(){this.pickerValueDefault!==[0,0,0]&&(this.pickerValueDefault[0]>this.provinceData.length-1&&(this.pickerValueDefault[0]=this.provinceData.length-1),this.pickerValueDefault[1]>this.cityData[this.pickerValueDefault[0]].length-1&&(this.pickerValueDefault[1]=this.cityData[this.pickerValueDefault[0]].length-1),this.pickerValueDefault[2]>this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1&&(this.pickerValueDefault[2]=this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1))},pickerChange(e){console.log(e);let a=e.detail.value;this.pickerValue[0]!==a[0]?(this.cityDataList=this.cityData[a[0]],this.areaDataList=this.areaData[a[0]][0],a[1]=0,a[2]=0):this.pickerValue[1]!==a[1]&&(this.areaDataList=this.areaData[a[0]][a[1]],a[2]=0),this.pickerValue=a,this._$emit("onChange")},_$emit(e){let a={label:this._getLabel(),value:this.pickerValue,cityCode:this._getCityCode()};this.$emit(e,a)},_getLabel(){return this.provinceDataList[this.pickerValue[0]].label+","+this.cityDataList[this.pickerValue[1]].label+","+this.areaDataList[this.pickerValue[2]].label},_getCityCode(){let e=[0,0,0];return e[0]=this.provinceDataList[this.pickerValue[0]].value,e[1]=this.cityDataList[this.pickerValue[1]].value,e[2]=this.areaDataList[this.pickerValue[2]].value,e}}},[["render",function(e,o,D,v,V,f){const m=p,d=k;return a(),t("div",{class:"mpvue-picker"},[i("div",{class:s({pickerMask:V.showPicker}),onClick:o[0]||(o[0]=(...e)=>f.maskClick&&f.maskClick(...e)),catchtouchmove:"true"},null,2),i("div",{class:s(["mpvue-picker-content",{"mpvue-picker-view-show":V.showPicker}])},[i("div",{class:"mpvue-picker__hd",catchtouchmove:"true"},[i("div",{class:"mpvue-picker__action",onClick:o[1]||(o[1]=(...e)=>f.pickerCancel&&f.pickerCancel(...e))},"取消"),i("div",{class:"mpvue-picker__action",style:l({color:D.themeColor}),onClick:o[2]||(o[2]=(...e)=>f.pickerConfirm&&f.pickerConfirm(...e))},"确定",4)]),c(d,{"indicator-style":"height: 40px;",class:"mpvue-picker-view",value:V.pickerValue,onChange:f.pickerChange},{default:r((()=>[c(m,null,{default:r((()=>[(a(!0),t(h,null,u(V.provinceDataList,((e,i)=>(a(),t("div",{class:"picker-item",key:i},n(e.label),1)))),128))])),_:1}),c(m,null,{default:r((()=>[(a(!0),t(h,null,u(V.cityDataList,((e,i)=>(a(),t("div",{class:"picker-item",key:i},n(e.label),1)))),128))])),_:1}),c(m,null,{default:r((()=>[(a(!0),t(h,null,u(V.areaDataList,((e,i)=>(a(),t("div",{class:"picker-item",key:i},n(e.label),1)))),128))])),_:1})])),_:1},8,["value","onChange"])],2)])}],["__scopeId","data-v-f390aecd"]]);export{o as m};
