import{_ as e,y as a,A as s,o as t,c as d,w as l,a as r,g as u,b as _,J as f,d as i,t as c,e as o,f as n,r as p,F as g,j as y,i as m,a4 as x,I as b,h,a2 as k}from"./index-024cd044.js";const v=e({data:()=>({loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,expressList:{},index:-1,order_refund_id:0,detail:{address:{}},express_id:0,temlIds:[]}),onLoad(e){this.order_refund_id=e.order_refund_id},mounted(){this.getData()},methods:{getData(){let e=this;a({title:"加载中"});let t=e.order_refund_id;e._get("user.refund/detail",{order_refund_id:t,platform:e.getPlatform()},(function(a){s(),e.detail=a.data.detail,e.expressList=a.data.expressList,e.temlIds=a.data.template_arr}))},onExpressChange:function(e){this.index=e.detail.value,this.express_id=this.expressList[this.index].express_id},formSubmit:function(e){let t=this;var d=e.detail.value;d.order_refund_id=t.order_refund_id,d.express_id=t.express_id;t.subMessage(t.temlIds,(function(){a({title:"正在提交",mask:!0}),t._post("user.refund/delivery",d,(function(e){s(),r({title:e.msg,duration:3e3,complete:function(){t.gotoPage("/pages/order/refund/detail/detail?order_refund_id="+t.order_refund_id,"redirectTo")}})}))}))}}},[["render",function(e,a,s,r,v,w){const L=u,C=y,I=m,S=x,D=b,F=h,P=k;return t(),d(L,{class:"order-refund-detail pb100"},{default:l((()=>[_(L,{class:"order-state d-s-c"},{default:l((()=>[_(L,{class:"icon-box"},{default:l((()=>[f("span",{class:"icon iconfont icon-gantanhao"})])),_:1}),_(L,{class:"state-cont flex-1"},{default:l((()=>[_(L,{class:"state-txt d-b-c"},{default:l((()=>[_(C,{class:"desc f34"},{default:l((()=>[i(c(v.detail.state_text),1)])),_:1})])),_:1})])),_:1}),_(L,{class:"dot-bg"})])),_:1}),_(L,{class:"p30 mt20 bg-white"},{default:l((()=>[_(L,{class:"one-product border-b-e d-s-c pb20"},{default:l((()=>[_(L,{class:"cover"},{default:l((()=>[_(I,{src:v.detail.orderproduct.image.file_path,mode:"aspectFit"},null,8,["src"])])),_:1}),_(L,{class:"flex-1"},{default:l((()=>[_(L,{class:"pro-info"},{default:l((()=>[i(c(v.detail.orderproduct.product_name),1)])),_:1}),_(L,{class:"pt10 p-0-30"},{default:l((()=>[_(C,{class:"f24 gray9"})])),_:1})])),_:1})])),_:1}),_(L,{class:"d-e-c pt20 lh150"},{default:l((()=>[_(L,{class:"f24"},{default:l((()=>[i(" 商品金额： "),_(C,{class:"red"},{default:l((()=>[i("¥"+c(v.detail.orderproduct.total_price),1)])),_:1})])),_:1})])),_:1}),_(L,{class:"d-e-c pt10 lh150"},{default:l((()=>[_(L,{class:"f24"},{default:l((()=>[i(" 订单实付金额： "),_(C,{class:"red"},{default:l((()=>[i("¥"+c(v.detail.orderproduct.total_pay_price),1)])),_:1})])),_:1})])),_:1}),80==v.detail.order_master.order_source?(t(),d(L,{key:0,class:"d-e-c pt10 lh150"},{default:l((()=>[v.detail.orderproduct.advance?(t(),d(L,{key:0,class:"f24"},{default:l((()=>[i(" 定金("+c(v.detail.orderproduct.advance.money_return?"可退":"不可退")+")： ",1),_(C,{class:"red"},{default:l((()=>[i("¥"+c(v.detail.orderproduct.advance.pay_price),1)])),_:1})])),_:1})):o("",!0)])),_:1})):o("",!0)])),_:1}),20==v.detail.status.value&&10==v.detail.type.value?(t(),d(L,{key:0,class:"group bg-white"},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("已退款金额：")])),_:1}),_(C,{class:"gray9"},{default:l((()=>[i("￥"+c(v.detail.refund_money),1)])),_:1})])),_:1})):o("",!0),_(L,{class:"group bg-white f24"},{default:l((()=>[_(L,{class:"p-20-0 border-b f34"},{default:l((()=>[i(" 申请退货信息 ")])),_:1}),_(L,{class:"p-20-0 f28"},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("售后类型：")])),_:1}),_(C,null,{default:l((()=>[i(c(v.detail.type.text),1)])),_:1})])),_:1}),_(L,{class:"p-20-0 f28"},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("申请原因：")])),_:1}),_(C,null,{default:l((()=>[i(c(v.detail.apply_desc||""),1)])),_:1})])),_:1}),_(L,{class:"p-20-0 upload-list d-s-s f28"},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("申请凭证：")])),_:1}),_(L,{class:"d-s-s f-w"},{default:l((()=>[v.detail.image.length>0?(t(!0),n(g,{key:0},p(v.detail.image,((e,a)=>(t(),d(L,{class:"item",key:a},{default:l((()=>[_(I,{src:e.file_path,mode:"aspectFit"},null,8,["src"])])),_:2},1024)))),128)):(t(),n(g,{key:1},[i(" 无 ")],64))])),_:1})])),_:1})])),_:1}),10==v.detail.status.value?(t(),d(L,{key:1,class:"group bg-white"},{default:l((()=>[_(L,{class:"p-20-0 border-b f34"},{default:l((()=>[i(" 拒绝理由 ")])),_:1}),_(L,{class:"p-20-0"},{default:l((()=>[_(C,{class:"red f28"},{default:l((()=>[i(c(v.detail.refuse_desc),1)])),_:1})])),_:1})])),_:1})):o("",!0),10==v.detail.is_agree.value&&v.detail.address?(t(),d(L,{key:2,class:"group bg-white"},{default:l((()=>[_(L,{class:"p-20-0 border-b f34"},{default:l((()=>[i(" 退货地址 ")])),_:1}),_(L,{class:"pt30 f28"},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("收货人：")])),_:1}),_(C,null,{default:l((()=>[i(c(v.detail.address.name),1)])),_:1})])),_:1}),_(L,{class:"pt30 f28"},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("联系电话：")])),_:1}),_(C,null,{default:l((()=>[i(c(v.detail.address.phone),1)])),_:1})])),_:1}),_(L,{class:"pt30 f28"},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("详情地址：")])),_:1}),_(C,null,{default:l((()=>[i(c(v.detail.address.detail),1)])),_:1})])),_:1}),v.detail.express_no?(t(),d(L,{key:0,class:"pt30 f28"},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("物流公司：")])),_:1}),_(C,null,{default:l((()=>[i(c(v.detail.express.express_name),1)])),_:1})])),_:1})):o("",!0),v.detail.express_no?(t(),d(L,{key:1,class:"pt30 f28"},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("物流单号：")])),_:1}),_(C,null,{default:l((()=>[i(c(v.detail.express_no),1)])),_:1})])),_:1})):o("",!0),v.detail.is_plate_send?(t(),d(L,{key:2,class:"pt30 f28"},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("换货物流公司：")])),_:1}),_(C,null,{default:l((()=>[i(c(v.detail.sendexpress.express_name),1)])),_:1})])),_:1})):o("",!0),v.detail.is_plate_send?(t(),d(L,{key:3,class:"pt30 f28",onClick:a[0]||(a[0]=a=>{e.gotoPage("/pages/order/express/refund-express?order_id="+v.detail.order_refund_id)})},{default:l((()=>[_(C,{class:"gray9"},{default:l((()=>[i("换货物流单号：")])),_:1}),_(C,null,{default:l((()=>[i(c(v.detail.send_express_no),1)])),_:1})])),_:1})):o("",!0),_(L,{class:"mt20 pb20 border-t gray9"},{default:l((()=>[_(L,{class:"pt20"},{default:l((()=>[i(" · 未与卖家协商一致情况下，请勿寄到付或平邮 ")])),_:1}),_(L,{class:"pt10"},{default:l((()=>[i(" · 请填写真实有效物流信息 ")])),_:1})])),_:1})])),_:1})):o("",!0),30!=v.detail.type.value&&10==v.detail.is_agree.value&&0==v.detail.is_user_send?(t(),d(P,{key:3,onSubmit:w.formSubmit,"report-submit":""},{default:l((()=>[_(L,{class:"group bg-white"},{default:l((()=>[_(L,{class:"p-20-0 border-b f34"},{default:l((()=>[i(" 填写物流信息 ")])),_:1}),_(L,{class:"p-20-0 d-s-c"},{default:l((()=>[_(L,{class:"gray9"},{default:l((()=>[i("物流公司：")])),_:1}),_(L,{class:"flex-1 p20 border"},{default:l((()=>[_(S,{mode:"selector",onChange:w.onExpressChange,range:v.expressList,"range-key":"express_name",value:v.index},{default:l((()=>[v.index>-1?(t(),d(C,{key:0},{default:l((()=>[i(c(v.expressList[v.index].express_name),1)])),_:1})):(t(),d(C,{key:1,class:"col-80"},{default:l((()=>[i("请选择物流公司")])),_:1}))])),_:1},8,["onChange","range","value"])])),_:1})])),_:1}),_(L,{class:"p-20-0 d-s-c"},{default:l((()=>[_(L,{class:"gray9"},{default:l((()=>[i("物流单号：")])),_:1}),_(L,{class:"flex-1 border"},{default:l((()=>[_(D,{class:"p10",placeholder:"请填写物流单号",name:"express_no"})])),_:1})])),_:1}),_(L,{class:"mt20"},{default:l((()=>[_(F,{class:"btn-red",formType:"submit"},{default:l((()=>[i("确认发货")])),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit"])):o("",!0)])),_:1})}],["__scopeId","data-v-707b105b"]]);export{v as default};
