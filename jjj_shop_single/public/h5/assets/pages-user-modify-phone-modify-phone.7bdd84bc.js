import{_ as e,a,y as s,M as t,A as l,o as d,c as o,w as n,g as i,b as c,d as u,t as f,j as r,I as m,h as _}from"./index-024cd044.js";const b=e({data:()=>({formData:{mobile:"",code:""},is_send:!1,send_btn_txt:"获取验证码",second:60,ip:""}),onLoad(){},methods:{formSubmit(){let e=this;/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.formData.mobile)?""!=e.formData.code?(s({title:"正在提交"}),t(),e._post("user.userweb/bindMobile",e.formData,(e=>{a({title:"绑定成功",duration:2e3}),setTimeout((function(){t()}),2e3)}),!1,(()=>{l()}))):a({title:"验证码不能为空！",duration:2e3,icon:"none"}):a({title:"手机有误,请重填！",duration:2e3,icon:"none"})},sendCode(){let e=this;/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.formData.mobile)?e._post("user.userweb/sendCode",{mobile:e.formData.mobile},(s=>{1==s.code&&(a({title:"发送成功"}),e.is_send=!0,e.changeMsg())})):a({title:"手机有误,请重填！",duration:2e3,icon:"none"})},changeMsg(){this.second>0?(this.send_btn_txt=this.second+"秒",this.second--,setTimeout(this.changeMsg,1e3)):(this.send_btn_txt="获取验证码",this.second=60,this.is_send=!1)}}},[["render",function(e,a,s,t,l,b){const h=r,p=i,g=m,x=_;return d(),o(p,{class:"login-container"},{default:n((()=>[c(p,{class:"p30"},{default:n((()=>[c(p,{class:"group-bd"},{default:n((()=>[c(p,{class:"form-level d-s-c"},{default:n((()=>[c(p,{class:"d-s-c field-name"},{default:n((()=>[c(h,{class:"orange"},{default:n((()=>[u("*")])),_:1}),c(h,{class:"gray3"},{default:n((()=>[u("手机号：")])),_:1})])),_:1}),c(p,{class:"val flex-1"},{default:n((()=>[c(g,{type:"text",modelValue:l.formData.mobile,"onUpdate:modelValue":a[0]||(a[0]=e=>l.formData.mobile=e),placeholder:"请输入要绑定的新手机号",disabled:l.is_send},null,8,["modelValue","disabled"])])),_:1})])),_:1}),c(p,{class:"form-level d-s-c"},{default:n((()=>[c(p,{class:"d-s-c field-name"},{default:n((()=>[c(h,{class:"orange"},{default:n((()=>[u("*")])),_:1}),c(h,{class:"gray3"},{default:n((()=>[u("验证码：")])),_:1})])),_:1}),c(p,{class:"val flex-1 d-b-c"},{default:n((()=>[c(g,{class:"flex-1",type:"number",modelValue:l.formData.code,"onUpdate:modelValue":a[1]||(a[1]=e=>l.formData.code=e),placeholder:"请输入验证码"},null,8,["modelValue"]),c(x,{class:"get-code-btn",type:"default",onClick:b.sendCode,disabled:l.is_send},{default:n((()=>[u(f(l.send_btn_txt),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])),_:1})])),_:1}),c(p,{class:"btns p30"},{default:n((()=>[c(x,{type:"default",onClick:b.formSubmit},{default:n((()=>[u("提交")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-1cc0f4d1"]]);export{b as default};
