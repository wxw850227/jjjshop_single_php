import{_ as e,y as a,A as t,a as l,o as s,c as o,w as c,e as n,g as i,f as u,r as d,F as p,b as _,d as r,j as f,i as y,n as g,t as k,u as x,h as m}from"./index-024cd044.js";import{_ as b}from"./none.d685a420.js";const h=e({data:()=>({loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,DataList:[],page:1,list_rows:10}),onShow(){a({title:"加载中"}),this.getData()},methods:{getData(){let e=this;e._get("coupon.coupon/lists",{page:e.page,list_rows:e.list_rows},(function(a){e.DataList=a.data.list,console.log(e.DataList),e.loadding=!1,t()}))},lookRule(e){e.rule=!0},closeRule(e){e.rule=!1},receive(e){a({title:"领取中"}),this._post("user.coupon/receive",{coupon_id:e},(function(e){t(),l({title:"领取成功",duration:2e3,icon:"success"})})),this.getData()}}},[["render",function(e,a,t,l,h,w){const C=f,D=i,v=m,j=y;return h.loadding?n("",!0):(s(),o(D,{key:0,class:"coupon-wrap bg-white"},{default:c((()=>[h.DataList.length>0?(s(!0),u(p,{key:0},d(h.DataList,((t,l)=>(s(),o(D,{class:"item-wrap",key:l},{default:c((()=>[_(D,{class:g("coupon-item coupon-item-"+t.color.text),onClick:e=>w.lookRule(t)},{default:c((()=>[_(D,{class:"circles"},{default:c((()=>[(s(),u(p,null,d(8,((e,a)=>_(C,{key:a}))),64))])),_:1}),_(D,{class:"info"},{default:c((()=>[_(D,null,{default:c((()=>[r(k(t.coupon_type.text),1)])),_:2},1024)])),_:2},1024),_(D,{class:"operation d-b-c w-b"},{default:c((()=>[_(D,{class:"flex-1 coupon-content"},{default:c((()=>[_(D,{class:g(0==t.is_expire&&0==t.is_use?t.color.text:"")},{default:c((()=>[10==t.coupon_type.value?(s(),o(D,{key:0,class:"price"},{default:c((()=>[_(C,{class:"f40 fb"},{default:c((()=>[r("减"+k(1*t.reduce_price)+"元",1)])),_:2},1024)])),_:2},1024)):n("",!0),20==t.coupon_type.value?(s(),u(p,{key:1},[_(C,{class:"f40 fb"},{default:c((()=>[r(k(t.discount),1)])),_:2},1024),_(C,null,{default:c((()=>[r("折")])),_:1})],64)):n("",!0)])),_:2},1032,["class"]),_(D,{class:"f30"},{default:c((()=>[r(k(t.min_price>0?"满"+1*t.min_price+"元可用":"无门槛"),1)])),_:2},1024),_(D,{class:"f24"},{default:c((()=>[10==t.expire_type?(s(),u(p,{key:0},[r(" 有效期：领取"+k(t.expire_day)+"天内有效 ",1)],64)):n("",!0),20==t.expire_type?(s(),u(p,{key:1},[r(" 有效期："+k(t.start_time.text)+"至"+k(t.end_time.text),1)],64)):n("",!0)])),_:2},1024)])),_:2},1024),_(D,{class:"btns d-c-c"},{default:c((()=>[t.state.value>0?(s(),o(v,{key:0,type:"default",class:g("btn-"+t.color.text),onClick:x((e=>w.receive(t.coupon_id)),["stop"])},{default:c((()=>[r(" 立即领取 ")])),_:2},1032,["class","onClick"])):(s(),o(v,{key:1,type:"default",class:"btn-gray",onClick:a[0]||(a[0]=x((()=>{}),["stop"]))},{default:c((()=>[r(k(t.state.text),1)])),_:2},1024))])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"]),20==t.apply_range?(s(),o(D,{key:0,class:"range_item d-b-c",onClick:x((a=>e.gotoPage("/pages/coupon/detail?coupon_id="+t.coupon_id+"&apply_range="+t.apply_range)),["stop"])},{default:c((()=>[_(D,null,{default:c((()=>[r("仅可购买指定部分商品")])),_:1}),_(D,null,{default:c((()=>[_(C,{class:"icon iconfont icon-jiantou",style:{color:"#999999","font-size":"24rpx"}})])),_:1})])),_:2},1032,["onClick"])):n("",!0),30==t.apply_range?(s(),o(D,{key:1,class:"range_item d-b-c",onClick:x((a=>e.gotoPage("/pages/coupon/detail?coupon_id="+t.coupon_id+"&apply_range="+t.apply_range)),["stop"])},{default:c((()=>[_(D,null,{default:c((()=>[r("仅可购买指定分类商品")])),_:1}),_(D,null,{default:c((()=>[_(C,{class:"icon iconfont icon-jiantou",style:{color:"#999999","font-size":"24rpx"}})])),_:1})])),_:2},1032,["onClick"])):n("",!0)])),_:2},1024)))),128)):(s(),o(D,{key:1,class:"none-data-box"},{default:c((()=>[_(j,{src:b,mode:"widthFix"}),_(C,null,{default:c((()=>[r("暂无数据")])),_:1})])),_:1}))])),_:1}))}],["__scopeId","data-v-1950564e"]]);export{h as default};
